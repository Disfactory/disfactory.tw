{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/SafetyModal.vue?53c1","webpack:///./src/components/IOSVersionAlertModal.vue?16d7","webpack:///./src/components/TutorialModal.vue?973f","webpack:///./src/components/CreateFactorySteps.vue?634b","webpack:///./src/components/DisplaySettingBottomSheet.vue?9d5a","webpack:///./src/components/AppSidebar.vue?9574","webpack:///./src/components/Map.vue?455b","webpack:///./src/App.vue?df5c","webpack:///./src/components/FactoryDetailPage.vue?d048","webpack:///./src/components/AboutModal.vue?e35a","webpack:///./src/components/UpdateFactorySuccessModal.vue?c699","webpack:///./src/components/AppAlert.vue?b0e8","webpack:///./src/components/AppNavbar.vue?06cf","webpack:///./src/components/CreateFactorySuccessModal.vue?4152","webpack:///./src/components/AppButton.vue?d896","webpack:///./src/components/ConfirmFactory.vue?d085","webpack:///./src/lib/map.ts","webpack:///./src/App.vue?fcb5","webpack:///./src/components/Map.vue?31ea","webpack:///./src/components/AppButton.vue?497d","webpack:///src/components/AppButton.vue","webpack:///./src/components/AppButton.vue?5a1d","webpack:///./src/components/AppButton.vue","webpack:///./src/components/AppNavbar.vue?c304","webpack:///./src/components/AppNavbar.vue","webpack:///./src/components/AppNavbar.vue?0ee2","webpack:///./src/components/AppNavbar.vue?f7e2","webpack:///./src/components/AppTextField.vue?97f0","webpack:///src/components/AppTextField.vue","webpack:///./src/components/AppTextField.vue?b510","webpack:///./src/components/AppTextField.vue","webpack:///./src/components/DisplaySettingBottomSheet.vue?e981","webpack:///./src/symbols.ts","webpack:///./src/components/SwitchMapModeButton.vue?d02d","webpack:///./src/types.ts","webpack:///./src/lib/image.ts","webpack:///./src/lib/layerStyle.ts","webpack:///./src/lib/utils/factoryPointCache.ts","webpack:///./src/lib/useMapMode.ts","webpack:///./src/components/SwitchMapModeButton.vue","webpack:///./src/components/SwitchMapModeButton.vue?24c7","webpack:///./src/components/SwitchMapModeButton.vue?1e82","webpack:///./src/components/DisplaySettingBottomSheet.vue","webpack:///./src/components/DisplaySettingBottomSheet.vue?6d13","webpack:///./src/components/DisplaySettingBottomSheet.vue?39a6","webpack:///./src/api/index.ts","webpack:///./src/lib/useGA.ts","webpack:///./src/lib/browserCheck.ts","webpack:///./src/lib/hooks.ts","webpack:///./src/lib/appState.ts","webpack:///./src/lib/useAlert.ts","webpack:///./src/lib/permalink.ts","webpack:///./src/lib/utils.ts","webpack:///./src/components/Map.vue","webpack:///./src/components/Map.vue?c91f","webpack:///./src/components/Map.vue?f844","webpack:///./src/components/AppSidebar.vue?30d5","webpack:///src/components/AppSidebar.vue","webpack:///./src/components/AppSidebar.vue?3732","webpack:///./src/components/AppSidebar.vue","webpack:///./src/components/AppAlert.vue?3d23","webpack:///./src/components/AppAlert.vue","webpack:///./src/components/AppAlert.vue?e392","webpack:///./src/components/AppAlert.vue?0c06","webpack:///./src/components/CreateFactorySteps.vue?2bcd","webpack:///./src/lib/imageUpload.ts","webpack:///./src/components/ImageUploadForm.vue?4335","webpack:///./src/components/ImageUploadForm.vue","webpack:///./src/components/ImageUploadForm.vue?7fff","webpack:///./src/components/ImageUploadForm.vue?a5a6","webpack:///./src/components/ConfirmFactory.vue?9741","webpack:///./src/components/Minimap.vue?177e","webpack:///./src/components/Minimap.vue","webpack:///./src/components/Minimap.vue?749b","webpack:///./src/components/Minimap.vue?e8ca","webpack:///./src/components/ConfirmFactory.vue","webpack:///./src/components/ConfirmFactory.vue?e50f","webpack:///./src/components/ConfirmFactory.vue?12b9","webpack:///./src/lib/useBackPressed.ts","webpack:///./src/components/CreateFactorySteps.vue","webpack:///./src/components/CreateFactorySteps.vue?b8a6","webpack:///./src/components/CreateFactorySteps.vue?e516","webpack:///./src/components/UpdateFactorySteps.vue?77b2","webpack:///./src/components/UpdateFactorySteps.vue","webpack:///./src/components/UpdateFactorySteps.vue?4284","webpack:///./src/components/UpdateFactorySteps.vue?f8bf","webpack:///./src/components/FactoryDetailPage.vue?4c33","webpack:///./src/lib/factory.ts","webpack:///./src/lib/hooks/useScroll.ts","webpack:///./src/components/ImgurFallbackImage.vue?f3f6","webpack:///./src/components/ImgurFallbackImage.vue","webpack:///./src/components/ImgurFallbackImage.vue?918a","webpack:///./src/components/ImgurFallbackImage.vue?0293","webpack:///./src/components/FactoryDetailPage.vue","webpack:///./src/components/FactoryDetailPage.vue?8299","webpack:///./src/components/FactoryDetailPage.vue?88d9","webpack:///./src/components/AboutModal.vue?21c2","webpack:///./src/components/AppModal.vue?c5f2","webpack:///./src/components/AppModal.vue","webpack:///./src/components/AppModal.vue?2eca","webpack:///./src/components/AppModal.vue?d11a","webpack:///./src/components/AboutModal.vue","webpack:///./src/components/AboutModal.vue?5521","webpack:///./src/components/AboutModal.vue?8c8f","webpack:///./src/components/ContactModal.vue?cca3","webpack:///./src/components/ContactModal.vue","webpack:///./src/components/ContactModal.vue?3bf8","webpack:///./src/components/ContactModal.vue?2238","webpack:///./src/components/GettingStartedModal.vue?677c","webpack:///./src/components/GettingStartedModal.vue","webpack:///./src/components/GettingStartedModal.vue?dad8","webpack:///./src/components/GettingStartedModal.vue?79dc","webpack:///./src/components/TutorialModal.vue?7660","webpack:///./src/components/TutorialModal.vue","webpack:///./src/components/TutorialModal.vue?4530","webpack:///./src/components/TutorialModal.vue?39ac","webpack:///./src/components/SafetyModal.vue?bad3","webpack:///./src/components/SafetyModal.vue","webpack:///./src/components/SafetyModal.vue?2034","webpack:///./src/components/SafetyModal.vue?71bb","webpack:///./src/components/CreateFactorySuccessModal.vue?2c32","webpack:///./src/components/CreateFactorySuccessModal.vue","webpack:///./src/components/CreateFactorySuccessModal.vue?cfbc","webpack:///./src/components/CreateFactorySuccessModal.vue?2fcb","webpack:///./src/components/UpdateFactorySuccessModal.vue?f212","webpack:///./src/components/UpdateFactorySuccessModal.vue","webpack:///./src/components/UpdateFactorySuccessModal.vue?0b5d","webpack:///./src/components/UpdateFactorySuccessModal.vue?375a","webpack:///./src/components/IOSVersionAlertModal.vue?5c55","webpack:///./src/components/IOSVersionAlertModal.vue","webpack:///./src/components/IOSVersionAlertModal.vue?67b3","webpack:///./src/components/IOSVersionAlertModal.vue?557c","webpack:///./src/App.vue","webpack:///./src/App.vue?fe79","webpack:///./src/App.vue?b1ee","webpack:///./src/registerServiceWorker.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/components/GettingStartedModal.vue?4f1f","webpack:///./src/components/ImageUploadForm.vue?4fa6","webpack:///./src/components/UpdateFactorySteps.vue?ae68","webpack:///./src/components/AppTextField.vue?5f89","webpack:///./src/components/AppModal.vue?ed0d","webpack:///./src/components/ContactModal.vue?32e5"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","BASE_MAP","_vm","this","_h","$createElement","_c","_self","directives","rawName","appState","isInitialState","isEditFactoryMode","$vuetify","breakpoint","mdAndUp","expression","attrs","staticClass","staticStyle","_v","on","modalActions","openTutorialModal","openSafetyModal","openContactModal","$event","drawer","model","callback","$$v","alertState","alert","alertActions","dismissAlert","modalState","$set","aboutModalOpen","closeAboutModal","contactModalOpen","closeContactModal","gettingStartedModalOpen","closeGettingStartedModal","tutorialModalOpen","closeTutorialModal","supportIOSVersionModalOpen","closesupportIOSVersionModal","appActions","setFactoryLocation","_e","staticRenderFns","ref","class","desktop","factoryDetailsExpanded","_l","button","checkActive","text","onClickFilterButton","color","_s","zoomToGeolocation","_m","selectFactoryMode","onClickCreateFactoryButton","_obj","assign","outline","disabled","rect","small","auto","click","_t","props","type","Boolean","default","String","setup","context","emit","component","dark","fixed","hide","onBackClick","onMenuClick","back","Function","_","_b","domProps","Array","isArray","inputValue","_i","$$a","$$el","target","$$c","checked","$$i","concat","$attrs","_q","composing","required","set","scopedSlots","_u","fn","_g","isOpen","isLUIMapVisable","MainMapControllerSymbol","isInSheet","currentMapModeName","mapModeBottomSheet","currentMapMode","FACTORY_TYPE","defaultFactoryDisplayStatuses","FactoryDisplayStatuses","documentDisplayStatuses","FactoryDisplayStatusMap","reduce","acc","getDisplayStatusText","status","getDisplayStatusColor","canvas","OffscreenCanvas","document","createElement","ctx","getContext","processor","src","Promise","resolve","image","Image","crossOrigin","style","display","onload","width","height","clearRect","drawImage","imageData","getImageData","tmpCanvas","tmpCtx","putImageData","toDataURL","remove","argriculturalLandColors","avg","isArrayEqual","a","b","some","v","isArgriculturalLand","arr","flipArgriculturalLand","from","baseStyle","version","sources","protomaps","tiles","minzoom","maxzoom","attribution","layers","id","paint","source","filter","layout","base","stops","featurePointCachedByCoord","Map","factory","lat","lng","getFactoryCacheKey","feature","getFactoryStatusImage","find","getFactoryStatus","document_display_status","includes","BASE_MAP_NAME","OSM","TAIWAN","SATELITE","PROTOMAP","entries","zoomIn","zoomOut","label","setAttribute","iconStyleMap","Style","Icon","anchorYUnits","IconAnchorUnits","PIXELS","anchorOrigin","IconOrigin","BOTTOM_LEFT","zIndex","indexOf","nullStyle","minimapPinStyle","Circle","fill","Fill","radius","stroke","Stroke","featureStyleCache","map","appliedFilters","factoryMap","_map","_factoriesLayerStatusMap","factoryStatus","CLUSTER_DISTANCE","features","clusterSource","Cluster","distance","styleCache","vectorLayer","Vector","resolution","zoom","mapInstance","getView","getZoom","clusterDistance","getDistance","setDistance","size","Text","toString","scale","factoryFeature","getStyle","setProperties","addLayer","getFactoriesLayerForStatus","getFeatureById","getFactoryStyle","clone","setStyle","factories","createFactoryFeature","factoriesToAdd","factoriesToUpdate","forEach","has","featuresByFactoryStatus","addFeatures","filters","updateFactoriesFeatureStyle","visible","isFactoryVisible","existingFeature","getFactoryCache","Feature","geometry","Point","setId","setFactoryCache","layerSource","getFeatures","getId","forEachFeatureFactory","values","projection","projectionExtent","getExtent","resolutions","matrixIds","z","Math","pow","origin","wmtsTileGrid","taiwanExtent","layer","VectorTile","attributions","format","MVT","url","VUE_APP_PROTOMAP_SOURCE_URL","maxZoom","opacity","renderMode","VectorTileRenderType","VECTOR","setExtent","stylefunction","WMTS","matrixSet","tileGrid","wrapX","requestEncoding","Tile","tileLoadFunction","imageTile","getImage","then","newSrc","className","handler","options","hasInitialLocation","mapDom","baseLayer","instantiateOLMap","minimap","geolocation","setupGeolocationTracking","setupEventListeners","move","view","getResolutionForZoom","range","ceil","getCenter","onMoved","getBoundingClientRect","canPlaceFactory","canPlace","onZoomed","event","onClicked","coordinate","forEachFeatureAtPixel","pixel","layerFilter","getZIndex","dragging","getTargetElement","cursor","hasFeatureAtPixel","getEventPixel","originalEvent","getLUIMAPLayer","onLUILayerVisibilityChange","getVisible","longitude","latitude","setCenter","setZoom","location","getInitialLocation","View","center","mapControlButtons","mapOptions","controls","Zoom","zoomInLabel","zoomOutLabel","zoomInTipLabel","zoomOutTipLabel","ScaleLine","Rotate","Attribution","interactions","pinchRotate","extend","PinchRotate","threshold","Geolocation","trackingOptions","enableHighAccuracy","getProjection","setTracking","positionLayer","setupGeolocationLayer","positionFeature","getPositionStyles","heading","Number","isNaN","anchor","rotation","rotateWithView","NaN","coordinates","getPosition","setGeometry","undefined","getHeading","accuracyFeature","getAccuracyGeometry","run","position","Error","removeLayer","resolved","check","forEachLayerAtPixel","getClassName","getLayers","_layer","getProperties","layer_","TypeError","setVisible","minimapPinFeature","initializeMap","changeBaseMap","initializeMinimap","mapModeSymbol","provideMapMode","useMapMode","mapController","currentMapMode$","mapModes","VBottomSheet","VBtn","VList","VListItem","VListItemTitle","VSubheader","components","SwitchMapModeButton","isLUIMapVisable$","getLUILayerVisible","setLUILayerVisible","VCard","VMenu","baseURL","instance","headers","getFactories","console","error","getFactory","factoryId","IMGUR_CLIENT_ID","uploadToImgur","file","formData","FormData","append","method","Authorization","link","deletehash","convertTurple2Number","input","readImageExif","fileReader","FileReader","e","readFromBinaryFile","GPSLatitude","Latitude","GPSLongitude","Longitude","DateTimeOriginal","readAsArrayBuffer","uploadExifAndGetToken","exifData","post","token","URL","createObjectURL","uploadImages","files","all","el","updateFactoryImages","nickname","contact","image_path","createFactory","JSON","stringify","updateFactory","factoryData","put","getFactoryReportRecords","GASymbol","provideGA","root","$gtag","useGA","gtag","pageview","path","page_path","isiOS","navigator","userAgent","match","test","iOSversion","platform","appVersion","parseInt","join","isNotSupportedIOS","PageState","ModalStateSymbol","updateFactorySuccessModal","updateFactoryImageSuccessModal","createFactorySuccessModal","safetyModalOpen","localStorage","getItem","sidebarOpen","filterModalOpen","openUpdateFactoryImagesSuccessModal","setTimeout","openUpdateFactorySuccessModal","openCreateFactorySuccessModal","closeCreateFactorySuccessModal","openAboutModal","closeSafetyModal","openGettingStartedModal","toggleSidebar","open","closeFilterModal","openFilterModal","AppStateSymbol","AlertLevel","CreateFactoryPageState","CREATE_FACTORY_1","CREATE_FACTORY_2","CREATE_FACTORY_3","UpdateFactoryPageState","UPDATE_FACTORY_IMAGES","UPDATE_FACTORY_MODE","pageState","INITIAL","factoryLocation","isCreateMode","createStepIndex","isEditImagesMode","updateFactoryField","isEditComment","isEditName","isEditType","isEditMode","formPageOpen","isInitialPage","mapLngLat","invalidPageTransition","pageTransition","startCreateFactory","gotoNextCreate","index","nextCreateStep","previousCreateStep","cancelCreateFactory","gotoCreateStep","step","startUpdateFactoryImages","cancelUpdateFactoryImages","startUpdateFactoryComment","field","cancelUpdateFactoryComment","closeFactoryPage","updateFactoryData","expandFactoryDetail","collapseFactoryDetail","defaultStyle","toggleFactoryDetail","openEditFactoryForm","AlertStateSymbol","state","showAlert","title","timeouts","level","warn","dismissText","timeout","clearTimeout","parseHashParams","hash","hashContent","exec","split","kv","stringifyHash","obj","fields","permalink","defineGetterSetter","loc","parseFloat","f","toFixed","moveToSharedFactory","cb","others","addFactories","setCoordinate","waitNextTick","$nextTick","AppButton","AppNavbar","AppTextField","DisplaySettingBottomSheet","popup","mapControllerRef","openFactoryDetail","resizeMap","updateSize","onClickEditFactoryData","popupOverlay","Overlay","element","positioning","OverlayPositioning","onClickFactoryFeature","getGeometry","getCoordinates","loadNewFactories","dumps","load","addOverlay","addEventListener","removeEventListener","comparableFactoryStatus","filterButtonsData","err","VIcon","close","sidebar","getHref","getTarget","stopPropagation","onClick","links","action","href","dismiss","onBack","discardDialog","switchStep","inactive","inlineLocationForm","toggleInlineLocationForm","locationInputState","clearLocationInput","setLocation","chooseLocationDialog","toggleShowLongLat","showLongLat","chooseLocation","imageUploadState","uploading","uploadedImages","onClickRemoveImage","imageUploadFormValid","formState","selectedImages","submitFactory","images","catch","finally","onChange","disableProgressiveUpload","valid","removeImage","onSubmit","submitText","previewImages","submit","VContainer","VTextField","gotoStepOne","initialFactories","initialLocation","gotoStepTwo","factoryTypeItems","pinLocation","minimapController","setMinimapPin","Minimap","useBackPressed","hideModal","history","pushState","once","VSelect","VTextarea","ImageUploadForm","ConfirmFactory","createFactoryFormState","submitting","resultFactory","num","backSteps","VAppBar","VCardText","VCardTitle","VDialog","VSpacer","VToolbarTitle","VToolbar","updateFormAppTitle","cancelUpdateFactory","imagesValid","submitImageUpload","imageUploadFormState","imageSubmitting","updateFormTitle","isCurrentFieldValid","submitUpdateFactory","updateFormButton","newImages","factory_type","validStates","full","empty","statusColor","factoryStatusText","copyToClipboard","showCopiedMessage","lastUpdatedAt","scrollOff","nativeOn","setLightboxIndex","factoryAddressAndLandcode","factoryName","startUpdateFactoryCommentFor","factoryType","desc","date","factoryFollowups","followup","note","lightboxItems","lightboxIndex","factoryTypeMap","getFactoryTypeText","scrollContainer","scrollTop","scrollLeft","onScroll","container","scrollElem","imageUrl","alt","onError","IMGUR_REGEX","imgurFallbackBaseUrl","matches","imgurInfo","ext","fallbackUrl","ImgurFallbackImage","prevImages","description","follow_ups_for_user","factoryDisplayStatus","documentDisplayStatus","display_number","townname","sectname","sectcode","landcode","factoryDetailScrollerRef","host","protocol","slideGroup","content","$refs","reportRecords","Date","created_at","sort","pastDescriptions","record","dateStr","getFullYear","getMonth","getDate","rec","reported_at","VSlideGroup","VSlideItem","showCloseButton","AppModal","agree","setItem","onDismissClick","isAdd","isUpdate","openHome","openAdd","openUpdate","Carousel","Slide","page","isHome","createCarousel","updateCarousel","goToPage","addImages","updateImages","safetyModalState","VCarousel","VCarouselItem","AppAlert","AppSidebar","AboutModal","ContactModal","GettingStartedModal","SafetyModal","CreateFactorySuccessModal","UpdateFactorySuccessModal","TutorialModal","IosVersionModal","CreateFactorySteps","UpdateFactorySteps","FactoryDetailPage","VApp","VAppBarNavIcon","VListItemGroup","VMain","VNavigationDrawer","ready","log","registered","cached","updatefound","updated","offline","use","theme","themes","light","primary","secondary","accent","colors","green","config","productionTip","enabled","vuetify","render","h","App","$mount"],"mappings":"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R,eAAgB,QAChBD,MAAO,CACL,aAAc,YAGlB,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,UAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,UAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,8BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,uBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,KAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,+BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,KAIN,CACED,GAAI,wBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,yBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,gBAChBC,OAAQ,CACN,KACA,CACE,MACA,aAEF,YAEFF,MAAO,CACL,aAAc,UACd,aAAc,KAGlB,CACED,GAAI,YACJtG,KAAM,iBACNwG,OAAQ,YACR,eAAgB,YAChBD,MAAO,CACL,uBAAwB,UACxB,wBAAyB,CACvB,YACA,CACE,MACA,WAGJ,yBAA0B,KAG9B,CACED,GAAI,cACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,UAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,qBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,cACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,QACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,eACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,qBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,KAIN,CACED,GAAI,cACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,uBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,KAIN,CACED,GAAI,gBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,KACA,aACA,GAEF,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,kBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,UAChBC,OAAQ,CACN,MACA,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,aAAc,IAGlB,CACED,GAAI,yBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,UAChBC,OAAQ,CACN,MACA,CACE,KACA,YACA,YAGJF,MAAO,CACL,aAAc,UACd,aAAc,GACd,iBAAkB,CAChB,EACA,MAIN,CACED,GAAI,aACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,aAChBD,MAAO,CACL,aAAc,UACd,aAAc,GACd,iBAAkB,CAChB,EACA,KAIN,CACED,GAAI,+BACJtG,KAAM,SACNwG,OAAQ,YACR,eAAgB,gBAChBN,QAAS,GACTQ,OAAQ,CACN,mBAAoB,OACpB,YAAa,CACX,qBACA,oBAEF,aAAc,CACZ,MACA,QAEF,YAAa,GACb,sBAAuB,IAEzBH,MAAO,CACL,aAAc,QACd,kBAAmB,UACnB,kBAAmB,IAGvB,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,UAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,UAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,EACA,GAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,QACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,GACA,GACA,MAIN,CACED,GAAI,8BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,GACA,EACA,KACA,KAIN,CACED,GAAI,uBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,gBAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,6BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,iBAAkB,CAChB,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,IAEF,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,KAIN,CACED,GAAI,sBACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GAEF,CACE,KACA,YACA,eAGJF,MAAO,CACL,aAAc,UACd,aAAc,CACZ,cACA,CACE,cACA,KAEF,CACE,QAEF,EACA,EACA,IACA,GACA,GACA,MAIN,CACED,GAAI,+BACJtG,KAAM,OACNwG,OAAQ,YACR,eAAgB,QAChBC,OAAQ,CACN,MACA,CACE,IACA,aACA,GA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","file":"js/app-legacy.fb2c2b02.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IOSVersionAlertModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IOSVersionAlertModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TutorialModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TutorialModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySteps.vue?vue&type=style&index=0&id=ce2a7f04&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySteps.vue?vue&type=style&index=0&id=ce2a7f04&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplaySettingBottomSheet.vue?vue&type=style&index=0&id=17c91206&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplaySettingBottomSheet.vue?vue&type=style&index=0&id=17c91206&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=style&index=0&id=593c9697&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=style&index=0&id=593c9697&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=6845ec70&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=style&index=0&id=6845ec70&lang=scss&scoped=true&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryDetailPage.vue?vue&type=style&index=0&id=be2d9c9e&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryDetailPage.vue?vue&type=style&index=0&id=be2d9c9e&scoped=true&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySuccessModal.vue?vue&type=style&index=0&id=72bdbd76&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySuccessModal.vue?vue&type=style&index=0&id=72bdbd76&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAlert.vue?vue&type=style&index=0&id=2a0f768e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAlert.vue?vue&type=style&index=0&id=2a0f768e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=f5670a18&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=style&index=0&id=f5670a18&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=f1cd472e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=f1cd472e&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=a2769d84&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=style&index=0&id=a2769d84&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmFactory.vue?vue&type=style&index=0&id=5329eab6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmFactory.vue?vue&type=style&index=0&id=5329eab6&lang=scss&scoped=true&\"","import { Map as OlMap, View, Feature, MapBrowserEvent } from 'ol'\nimport { Style, Icon, Circle, Fill, Stroke, Text } from 'ol/style'\nimport IconAnchorUnits from 'ol/style/IconAnchorUnits'\nimport { Point } from 'ol/geom'\nimport WMTS from 'ol/source/WMTS'\nimport WMTSTileGrid from 'ol/tilegrid/WMTS'\nimport { get as getProjection, transform, transformExtent } from 'ol/proj'\nimport { getWidth, getTopLeft } from 'ol/extent'\nimport { Tile as TileLayer, Vector as VectorLayer, Layer } from 'ol/layer'\nimport { Vector as VectorSource, OSM, Cluster } from 'ol/source'\nimport { Zoom, ScaleLine, Rotate, Attribution } from 'ol/control'\nimport Geolocation from 'ol/Geolocation'\nimport { defaults as defaultInteractions, PinchRotate } from 'ol/interaction'\n\nimport { FactoryData, defaultFactoryDisplayStatuses, FactoryDisplayStatusType, FactoryDisplayStatuses } from '../types'\nimport { flipArgriculturalLand } from '../lib/image'\nimport { MapOptions } from 'ol/PluggableMap'\nimport IconOrigin from 'ol/style/IconOrigin'\nimport VectorTileLayer from 'ol/layer/VectorTile'\nimport VectorTileSource from 'ol/source/VectorTile'\nimport MVT from 'ol/format/MVT'\nimport VectorTileRenderType from 'ol/layer/VectorTileRenderType'\nimport stylefunction from 'ol-mapbox-style/dist/stylefunction'\nimport { baseStyle } from './layerStyle'\nimport FactoryPointCache from './utils/factoryPointCache'\n\nconst getFactoryStatusImage = (status: FactoryDisplayStatusType) => `/images/marker-${status}.svg`\nexport const getStatusBorderColor = (status: FactoryDisplayStatusType) => {\n  // We use == instead of === here because `type` can be either a string or number\n  // == results in a form of typecasting that works good enough for here\n  // eslint-disable-next-line\n  return FactoryDisplayStatuses.find(s => s.type == status)?.color\n}\n\nexport function getFactoryStatus (factory: FactoryData): FactoryDisplayStatusType {\n  if (factory.document_display_status) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return FactoryDisplayStatuses.find(s => s.documentDisplayStatuses.includes(factory.document_display_status!))?.type as FactoryDisplayStatusType\n  } else {\n    return FactoryDisplayStatuses[0].type\n  }\n}\n\nexport enum BASE_MAP {\n  OSM,\n  TAIWAN,\n  SATELITE,\n  PROTOMAP\n}\n\nexport const BASE_MAP_NAME = {\n  [BASE_MAP.OSM]: '簡易地圖',\n  [BASE_MAP.TAIWAN]: '詳細地圖',\n  [BASE_MAP.SATELITE]: '衛星地圖',\n  [BASE_MAP.PROTOMAP]: '向量地圖'\n}\n\ntype ButtonElements = {\n  zoomIn: HTMLImageElement,\n  zoomOut: HTMLImageElement\n}\n\nconst makeMapButtons = () => {\n  return Object.entries({\n    zoomIn: '/images/zoom-in.svg',\n    zoomOut: '/images/zoom-out.svg'\n  }).reduce((acc, [key, image]) => {\n    const label = document.createElement('img')\n    label.setAttribute('src', image)\n    label.setAttribute('alt',\n      key === 'zoomIn' ? '放大' : '縮小')\n\n    return {\n      ...acc,\n      [key]: label\n    }\n  }, {}) as ButtonElements\n}\n\nconst iconStyleMap = defaultFactoryDisplayStatuses.reduce((acc, status) => ({\n  ...acc,\n  [status]: new Style({\n    image: new Icon({\n      anchorYUnits: IconAnchorUnits.PIXELS,\n      anchorOrigin: IconOrigin.BOTTOM_LEFT,\n      src: getFactoryStatusImage(status)\n    }),\n    zIndex: defaultFactoryDisplayStatuses.indexOf(status)\n  })\n}), {}) as {[key in FactoryDisplayStatusType]: Style}\n\nconst nullStyle = new Style({})\n\nconst minimapPinStyle = new Style({\n  image: new Circle({\n    fill: new Fill({\n      color: '#A22929'\n    }),\n    radius: 12,\n    stroke: new Stroke({\n      color: '#FFFFFF',\n      width: 1\n    })\n  })\n})\n\nexport const featureStyleCache = new Map<string, Style>()\n\nexport class MapFactoryController {\n  private _map: OLMap\n  private appliedFilters: FactoryDisplayStatusType[] = defaultFactoryDisplayStatuses\n  private _factoriesLayerSource?: VectorSource\n  private _factoriesLayerStatusMap: {[key: string]: VectorSource}\n  private factoryMap = new Map<string, FactoryData>()\n\n  constructor (map: OLMap) {\n    this._map = map\n    this._factoriesLayerStatusMap = {} as {[key: string]: VectorSource}\n  }\n\n  get mapInstance () {\n    return this._map\n  }\n\n  get factories () {\n    return [...this.factoryMap.values()]\n  }\n\n  getFactoriesLayerForStatus (factoryStatus: FactoryDisplayStatusType) {\n    const CLUSTER_DISTANCE = 50\n    if (!this._factoriesLayerStatusMap[`${factoryStatus}`]) {\n      this._factoriesLayerStatusMap[`${factoryStatus}`] = new VectorSource({ features: [] })\n      const clusterSource = new Cluster({\n        distance: CLUSTER_DISTANCE,\n        source: this._factoriesLayerStatusMap[`${factoryStatus}`]\n      })\n      const styleCache = {}\n      const vectorLayer = new VectorLayer({\n        source: clusterSource,\n        zIndex: 3,\n        style: (feature, resolution) => {\n          const zoom = this.mapInstance.map.getView().getZoom()!\n\n          const clusterDistance = clusterSource.getDistance()\n          if (zoom > 16) {\n            if (clusterDistance !== 0) clusterSource.setDistance(0)\n          } else {\n            if (clusterDistance !== CLUSTER_DISTANCE) clusterSource.setDistance(CLUSTER_DISTANCE)\n          }\n\n          const features = feature.get('features')\n          if (features.length > 1) {\n            const size = features.length\n            // eslint-disable-next-line\n            // @ts-ignore\n            let style = styleCache[size]\n            if (!style) {\n              style = new Style({\n                image: new Circle({\n                  radius: 20,\n                  stroke: new Stroke({\n                    color: '#fff'\n                  }),\n                  fill: new Fill({\n                    color: getStatusBorderColor(factoryStatus)\n                  })\n                }),\n                text: new Text({\n                  text: size.toString(),\n                  fill: new Fill({\n                    color: '#fff'\n                  }),\n                  scale: 1.8\n                })\n              })\n              // eslint-disable-next-line\n              // @ts-ignore\n              styleCache[size] = style\n            }\n            return style\n          } else {\n            const factoryFeature = features[0]\n            ;(feature as Feature).set('factoryId', factoryFeature.get('factoryId'))\n            return factoryFeature.getStyle()\n          }\n        }\n      })\n      vectorLayer.setProperties({ factoryStatus })\n      this.mapInstance.map.addLayer(vectorLayer)\n    }\n    return this._factoriesLayerStatusMap[`${factoryStatus}`]\n  }\n\n  public getFactory (id: string) {\n    return this.factoryMap.get(id)\n  }\n\n  public updateFactory (id: string, factory: FactoryData) {\n    this.factoryMap.set(id, factory)\n\n    // Update factory feature style base on new data\n    const feature = this.getFactoriesLayerForStatus(getFactoryStatus(factory)).getFeatureById(id)\n    if (feature) {\n      const style = this.getFactoryStyle(factory)\n      featureStyleCache.set(id, style.clone())\n      feature.setStyle(style)\n    }\n  }\n\n  public addFactories (factories: FactoryData[]) {\n    const createFactoryFeature = this.createFactoryFeature.bind(this)\n    const factoriesToAdd = [] as FactoryData[]\n    const factoriesToUpdate = [] as FactoryData[]\n\n    factories.forEach(factory => {\n      if (this.factoryMap.has(factory.id)) {\n        factoriesToUpdate.push(factory)\n      } else {\n        factoriesToAdd.push(factory)\n      }\n    })\n\n    const features = factoriesToAdd.map(createFactoryFeature).filter(Boolean) as Feature[]\n    interface FeatureFactoryStatusMap {\n      [key: string]: Feature[]\n    }\n    const featuresByFactoryStatus = {} as FeatureFactoryStatusMap\n    features.forEach((feature) => {\n      if (!featuresByFactoryStatus[feature.get('factoryStatus')]) {\n        featuresByFactoryStatus[feature.get('factoryStatus')] = []\n      }\n      featuresByFactoryStatus[feature.get('factoryStatus')].push(feature)\n    })\n    Object.entries(featuresByFactoryStatus).forEach(([factoryStatus, features]) => {\n      this.getFactoriesLayerForStatus(factoryStatus as FactoryDisplayStatusType).addFeatures(features)\n    })\n\n    // ? Disable updating factory style when fetching new factories, user now should refresh the page manually to get factory status updated\n    // factoriesToUpdate.forEach((factory) => this.updateFactory(factory.id, factory))\n  }\n\n  public hideFactories (factories: FactoryData[]) {\n    factories.forEach(factory => {\n      const feature = this.getFactoriesLayerForStatus(getFactoryStatus(factory)).getFeatureById(factory.id)\n      feature.setStyle(nullStyle)\n    })\n  }\n\n  public setFactoryStatusFilter (filters: FactoryDisplayStatusType[]) {\n    this.appliedFilters = filters\n\n    this.updateFactoriesFeatureStyle()\n  }\n\n  private isFactoryVisible (factory: FactoryData) {\n    return this.appliedFilters.includes(getFactoryStatus(factory))\n  }\n\n  private getFactoryStyle (factory: FactoryData): Style {\n    const visible = this.isFactoryVisible(factory)\n    return visible ? iconStyleMap[getFactoryStatus(factory)] : nullStyle\n  }\n\n  private createFactoryFeature (factory: FactoryData) {\n    const existingFeature = FactoryPointCache.getFactoryCache(factory)\n    if (existingFeature) {\n      return null\n    }\n\n    const feature = new Feature({\n      geometry: new Point(transform([factory.lng, factory.lat], 'EPSG:4326', 'EPSG:3857'))\n    })\n    feature.setId(factory.id)\n    feature.set('factoryId', factory.id)\n    feature.set('factoryStatus', getFactoryStatus(factory))\n    const style = this.getFactoryStyle(factory)\n    featureStyleCache.set(factory.id, style.clone())\n    feature.setStyle(style)\n\n    this.factoryMap.set(factory.id, factory)\n\n    FactoryPointCache.setFactoryCache(factory, feature)\n\n    return feature\n  }\n\n  private forEachFeatureFactory (fn: (feature: Feature, factory: FactoryData) => void) {\n    Object.entries(this._factoriesLayerStatusMap).forEach(([, layerSource]) => {\n      layerSource.getFeatures().forEach(feature => {\n        const id = feature.getId() as string\n        const factory = this.factoryMap.get(id) as FactoryData\n\n        fn(feature, factory)\n      })\n    })\n  }\n\n  private displayAllFactory () {\n    this.forEachFeatureFactory((feature, factory) => {\n      feature.setStyle(iconStyleMap[getFactoryStatus(factory)])\n    })\n  }\n\n  private updateFactoriesFeatureStyle () {\n    this.forEachFeatureFactory((feature, factory) => {\n      feature.setStyle(this.getFactoryStyle(factory))\n    })\n  }\n}\n\nconst getWMTSTileGrid = () => {\n  const projection = getProjection('EPSG:3857')\n  const projectionExtent = projection.getExtent()\n  const resolutions = new Array(21)\n  const size = getWidth(projectionExtent) / 256\n  const matrixIds = new Array(21)\n  for (let z = 0; z < 21; ++z) {\n    // generate resolutions and matrixIds arrays for this WMTS\n    resolutions[z] = size / Math.pow(2, z)\n    matrixIds[z] = z\n  }\n\n  return new WMTSTileGrid({\n    origin: getTopLeft(projectionExtent),\n    resolutions: resolutions,\n    matrixIds: matrixIds\n  })\n}\n\nconst getBaseLayer = (type: BASE_MAP, wmtsTileGrid: WMTSTileGrid) => {\n  if (type === BASE_MAP.PROTOMAP) {\n    const taiwanExtent = transformExtent([119.90423060095736, 21.83090666506977, 122.2876172488333, 25.33409668479448], 'EPSG:4326', 'EPSG:3857')\n    const layer = new VectorTileLayer({\n      source: new VectorTileSource({\n        attributions: '<a href=\"https://protomaps.com\" target=\"_blank\">Protomaps</a> © <a href=\"https://www.openstreetmap.org\" target=\"_blank\"> OpenStreetMap</a>',\n        format: new MVT(),\n        url: process.env.VUE_APP_PROTOMAP_SOURCE_URL || 'https://api.disfactory.tw/tiles/{z}/{x}/{y}.pbf',\n        maxZoom: 14\n      }),\n      opacity: 1,\n      zIndex: 1,\n      renderMode: VectorTileRenderType.VECTOR\n    })\n    layer.setExtent(taiwanExtent)\n    stylefunction(layer, baseStyle, 'protomaps')\n    return layer\n  } else {\n    const source = (() => {\n      switch (type) {\n        case BASE_MAP.OSM:\n          return new OSM({\n            crossOrigin: 'Anonymous',\n            attributions:\n              '<a href=\"https://osm.tw/\" target=\"_blank\">OpenStreetMap 台灣</a>'\n          })\n        case BASE_MAP.TAIWAN:\n          return new WMTS({\n            matrixSet: 'EPSG:3857',\n            format: 'image/png',\n            url: 'https://wmts.nlsc.gov.tw/wmts',\n            layer: 'EMAP',\n            tileGrid: wmtsTileGrid,\n            crossOrigin: 'Anonymous',\n            style: 'default',\n            wrapX: true,\n            attributions:\n              '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\">國土測繪圖資服務雲</a>'\n          })\n        case BASE_MAP.SATELITE:\n          return new WMTS({\n            matrixSet: 'EPSG:3857',\n            format: 'image/png',\n            url: 'https://wmts.nlsc.gov.tw/wmts/PHOTO_MIX/default/EPSG:3857/{TileMatrix}/{TileRow}/{TileCol}',\n            layer: 'EMAP',\n            tileGrid: wmtsTileGrid,\n            requestEncoding: 'REST',\n            crossOrigin: 'Anonymous',\n            style: 'default',\n            wrapX: true,\n            attributions:\n              '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\">國土測繪圖資服務雲</a>'\n          })\n        default:\n          return new OSM({\n            crossOrigin: 'Anonymous',\n            attributions:\n              '<a href=\"https://osm.tw/\" target=\"_blank\">OpenStreetMap 台灣</a>'\n          })\n      }\n    })()\n\n    return new TileLayer({\n      source,\n      opacity: 0.6,\n      zIndex: 1\n    })\n  }\n}\n\nconst getLUIMapLayer = (wmtsTileGrid: WMTSTileGrid) => {\n  return new TileLayer({\n    source: new WMTS({\n      matrixSet: 'EPSG:3857',\n      format: 'image/png',\n      url: 'https://wmts.nlsc.gov.tw/wmts/nURBAN2/default/EPSG:3857/{TileMatrix}/{TileRow}/{TileCol}',\n      layer: 'LUIMAP',\n      requestEncoding: 'REST',\n      tileGrid: wmtsTileGrid,\n      tileLoadFunction: function (imageTile, src) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const image: HTMLImageElement = (imageTile as any).getImage()\n        flipArgriculturalLand(src).then(newSrc => {\n          image.src = newSrc\n        })\n      },\n      crossOrigin: 'Anonymous',\n      style: 'default',\n      wrapX: true,\n      attributions:\n        '<a href=\"https://maps.nlsc.gov.tw/\" target=\"_blank\">國土測繪圖資服務雲</a>'\n    }),\n    opacity: 0.5,\n    zIndex: 2,\n    // TS is wrong, for some reason className is a valid property\n    // eslint-disable-next-line\n    // @ts-ignore\n    className: 'lui-layer'\n  })\n}\n\ntype MapEventHandler = {\n  onMoved?: (location: [number, number, number, number], canPlaceFactory: boolean) => void,\n  onClicked?: (location: [number, number], feature?: Feature) => void,\n  onZoomed?: (zoom: number) => void,\n  onLUILayerVisibilityChange?: (visible: boolean) => void\n}\n\ntype OLMapOptions = {\n  minimap?: boolean,\n  getInitialLocation?: () => [number, number, number] | undefined\n}\n\nexport class OLMap {\n  private _map: OlMap\n  private mapDom: HTMLElement\n  private geolocation?: Geolocation\n  private baseLayer: TileLayer | VectorTileLayer\n  private tileGrid: WMTSTileGrid = getWMTSTileGrid()\n  private minimapPinFeature?: Feature\n  private hasInitialLocation = false\n\n  constructor (target: HTMLElement, handler: MapEventHandler = {}, options: OLMapOptions = {}) {\n    this.mapDom = target\n\n    this.baseLayer = getBaseLayer(BASE_MAP.OSM, this.tileGrid)\n    this._map = this.instantiateOLMap(this.mapDom, this.baseLayer, options)\n\n    if (!options.minimap) {\n      this.geolocation = this.setupGeolocationTracking(this._map)\n    }\n\n    this.setupEventListeners(this._map, handler)\n  }\n\n  get map () {\n    return this._map\n  }\n\n  private setupEventListeners (map: OlMap, handler: MapEventHandler) {\n    const move = async () => {\n      const view = map.getView()\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const zoom = view.getZoom()!\n\n      // resolution in meter\n      const resolution = view.getResolutionForZoom(zoom)\n      const range = Math.ceil(resolution / 2)\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const [lng, lat] = transform(view.getCenter()!, 'EPSG:3857', 'EPSG:4326')\n\n      if (handler.onMoved) {\n        const { width, height } = this.mapDom.getBoundingClientRect()\n        const canPlace = await this.canPlaceFactory([width / 2, height / 2])\n        handler.onMoved([lng, lat, range, zoom], canPlace)\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('change:resolution', move)\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('moveend', move)\n\n    // https://stackoverflow.com/a/54441119\n    // After any layer is loaded, check onMoved event for the first time.\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('rendercomplete', move)\n\n    map.on('zoomend', () => {\n      const view = map.getView()\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const zoom = view.getZoom()!\n      if (handler.onZoomed) {\n        handler.onZoomed(zoom)\n      }\n    })\n\n    // eslint-disable-next-line @typescript-eslint/no-misused-promises\n    map.on('click', async (event) => {\n      if (handler.onClicked) {\n        const [lng, lat] = transform(event.coordinate, 'EPSG:3857', 'EPSG:4326')\n        const feature = map.forEachFeatureAtPixel(event.pixel, (feature) => feature, {\n          layerFilter: (layer) => {\n            return layer.getZIndex() !== 5 // TODO: Hack\n          }\n        })\n        handler.onClicked([lng, lat], feature as Feature)\n      }\n    })\n\n    // snippet taken from https://gis.stackexchange.com/q/310775\n    map.on('pointermove', event => {\n      if (!event.dragging) {\n        map.getTargetElement().style.cursor = map.hasFeatureAtPixel(map.getEventPixel(event.originalEvent)) ? 'pointer' : ''\n      }\n    })\n\n    const layer = this.getLUIMAPLayer()\n    layer.on('change:visible', function () {\n      if (handler.onLUILayerVisibilityChange) {\n        handler.onLUILayerVisibilityChange(layer.getVisible())\n      }\n    })\n  }\n\n  public setCoordinate (longitude: number, latitude: number, zoom?: number) {\n    const view = this.map.getView()\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    zoom = zoom || view.getZoom()!\n    view.setCenter(transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857'))\n    view.setZoom(zoom)\n  }\n\n  private instantiateOLMap (target: HTMLElement, baseLayer: TileLayer | VectorTileLayer, options: OLMapOptions = {}) {\n    const tileGrid = getWMTSTileGrid()\n\n    let view\n    let location\n    if (options.getInitialLocation && (location = options.getInitialLocation())) {\n      const [longitude, latitude, zoom] = location\n      view = new View({\n        center: transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857'),\n        zoom\n      })\n      this.hasInitialLocation = true\n    } else {\n      view = new View({\n        center: transform([120.48504632216294, 24.088258816482295], 'EPSG:4326', 'EPSG:3857'),\n        zoom: 14\n      })\n    }\n\n    const mapControlButtons = makeMapButtons()\n\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const mapOptions: MapOptions = {\n      target,\n      layers: [\n        baseLayer,\n        getLUIMapLayer(tileGrid)\n      ],\n      view,\n      controls: [\n        new Zoom({\n          zoomInLabel: mapControlButtons.zoomIn,\n          zoomOutLabel: mapControlButtons.zoomOut,\n          zoomInTipLabel: '放大',\n          zoomOutTipLabel: '縮小'\n        }),\n        new ScaleLine(),\n        new Rotate(),\n        new Attribution()\n      ],\n      interactions: defaultInteractions({\n        pinchRotate: false\n      }).extend([\n        new PinchRotate({\n          threshold: 0.4\n        })\n      ])\n    }\n\n    if (options.minimap) {\n      mapOptions.controls = []\n      mapOptions.interactions = []\n    }\n\n    return new OlMap(mapOptions)\n  }\n\n  private setupGeolocationTracking (map: OlMap) {\n    const view = map.getView()\n\n    const geolocation = new Geolocation({\n      trackingOptions: {\n        enableHighAccuracy: true\n      },\n      projection: view.getProjection()\n    })\n\n    geolocation.setTracking(true)\n\n    const positionLayer = this.setupGeolocationLayer(geolocation)\n\n    map.addLayer(positionLayer)\n\n    return geolocation\n  }\n\n  private setupGeolocationLayer (geolocation: Geolocation) {\n    const positionFeature = new Feature()\n    const getPositionStyles = (heading: number) =>\n      (!Number.isNaN(heading)) ? new Style({\n        image: new Icon({\n          anchor: [0.5, 0.5],\n          src: '/images/now.svg',\n          rotation: heading,\n          rotateWithView: true\n        })\n      }) : new Style({\n        image: new Circle({\n          fill: new Fill({ color: '#0099ff' }),\n          stroke: new Stroke({ color: '#fff', width: 3 }),\n          radius: 15\n        })\n      })\n\n    positionFeature.setStyle(getPositionStyles(NaN))\n    geolocation.on('change:position', function () {\n      const coordinates = geolocation.getPosition()\n      positionFeature.setGeometry(coordinates ? new Point(coordinates) : undefined)\n    })\n\n    geolocation.on('change:heading', function () {\n      positionFeature.setStyle(getPositionStyles(geolocation.getHeading() ?? NaN))\n    })\n\n    const accuracyFeature = new Feature()\n    geolocation.on('change:accuracyGeometry', function () {\n      accuracyFeature.setGeometry(geolocation.getAccuracyGeometry())\n    })\n\n    let run = false || this.hasInitialLocation\n    geolocation.on('change', () => {\n      if (run) {\n        return\n      }\n\n      const position = geolocation.getPosition()\n      if (position) {\n        this.zoomToGeolocation()\n        run = true\n      }\n    })\n\n    const positionLayer = new VectorLayer({\n      source: new VectorSource({\n        features: [positionFeature, accuracyFeature]\n      }),\n      zIndex: 5\n    })\n\n    return positionLayer\n  }\n\n  public zoomToGeolocation () {\n    if (!this.geolocation) {\n      throw new Error('No location permission')\n    }\n\n    const location = this.geolocation.getPosition()\n    if (!location) {\n      throw new Error('No location permission')\n    }\n\n    const view = this._map.getView()\n    view.setCenter(location)\n    view.setZoom(16)\n  }\n\n  public changeBaseMap (type: BASE_MAP) {\n    this._map.removeLayer(this.baseLayer)\n    this.baseLayer = getBaseLayer(type, this.tileGrid)\n    this._map.addLayer(this.baseLayer)\n  }\n\n  public async canPlaceFactory (pixel: MapBrowserEvent['pixel']): Promise<boolean> {\n    return new Promise(resolve => {\n      let resolved = false\n      const check = this._map.forEachLayerAtPixel(pixel, function (_, data) {\n        const [,,, a] = data\n\n        resolved = true\n        resolve(a !== 128)\n      }, {\n        // TS is wrong, for some reason layer does have .getClassName()\n        // eslint-disable-next-line\n        // @ts-ignore\n        layerFilter: (layer) => layer.getClassName() === 'lui-layer'\n      })\n\n      // !Workaround #forEachLayerAtPixel would not correctly run for some browsers\n      if (!resolved) {\n        if (check === undefined) {\n          resolve(true)\n        } else {\n          resolve(check)\n        }\n      }\n    })\n  }\n\n  private getLUIMAPLayer (): Layer {\n    let layer\n    this._map.getLayers().forEach(_layer => {\n      if (_layer.getProperties().source.layer_ === 'LUIMAP') {\n        layer = _layer\n      }\n    })\n\n    if (!layer) {\n      throw (new TypeError('LUIMAP Layer not found'))\n    }\n\n    return layer as Layer\n  }\n\n  public setLUILayerVisible (visible: boolean) {\n    const layer = this.getLUIMAPLayer()\n    layer.setVisible(visible)\n  }\n\n  public getLUILayerVisible () {\n    const layer = this.getLUIMAPLayer()\n    return layer.getVisible()\n  }\n\n  public setMinimapPin (longitude: number, latitude: number) {\n    const coordinate = transform([longitude, latitude], 'EPSG:4326', 'EPSG:3857')\n\n    if (!this.minimapPinFeature) {\n      const feature = new Feature({\n        geometry: new Point(coordinate)\n      })\n      feature.setStyle(minimapPinStyle)\n      this.minimapPinFeature = feature\n\n      const source = new VectorSource({\n        features: [\n          feature\n        ]\n      })\n\n      const vectorLayer = new VectorLayer({\n        source,\n        zIndex: 4\n      })\n\n      this.map.addLayer(vectorLayer)\n    } else {\n      this.minimapPinFeature.setGeometry(new Point(coordinate))\n    }\n\n    this._map.getView().setCenter(coordinate)\n  }\n}\n\nexport function initializeMap (target: HTMLElement, handler: MapEventHandler = {}, options: OLMapOptions) {\n  const mapInstance = new OLMap(target, handler, options);\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (window as any).changeBaseMap = mapInstance.changeBaseMap.bind(mapInstance)\n  return new MapFactoryController(mapInstance)\n}\n\nexport function initializeMinimap (target: HTMLElement, center: number[]) {\n  const mapInstance = new OLMap(target, {}, { minimap: true })\n  mapInstance.map.getView().setCenter(center)\n  return new MapFactoryController(mapInstance)\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.appState.isInitialState || (_vm.appState.isEditFactoryMode && _vm.$vuetify.breakpoint.mdAndUp)),expression:\"appState.isInitialState || (appState.isEditFactoryMode && $vuetify.breakpoint.mdAndUp)\"}],attrs:{\"app\":\"\",\"color\":\"primary\",\"dark\":\"\",\"clipped-right\":\"\"}},[_c('v-btn',{staticClass:\"d-sm-none\",staticStyle:{\"visibility\":\"hidden\"},attrs:{\"icon\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-temp\")])],1),_c('v-spacer',{staticClass:\"d-sm-none\"}),_c('v-toolbar-title',[_vm._v(\"農地工廠回報\")]),_c('v-spacer'),_c('div',{staticClass:\"d-none d-sm-flex\"},[_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.modalActions.openTutorialModal}},[_vm._v(\" 使用教學 \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.modalActions.openSafetyModal}},[_vm._v(\" 安全須知 \")]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.modalActions.openContactModal}},[_vm._v(\" 聯絡我們 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"href\":\"https://about.disfactory.tw/#section-f_c360c8de-447e-4c0a-a856-4af18b9a5240\"}},[_vm._v(\" 常見問題 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"href\":\"https://about.disfactory.tw\",\"target\":\"_blank\"}},[_vm._v(\" 關於回報系統 \")]),_c('v-btn',{attrs:{\"text\":\"\",\"href\":\"https://airtable.com/shrUraKakZRpH52DO\",\"target\":\"_blank\"}},[_vm._v(\" 問題回報 \")])],1),_c('v-app-bar-nav-icon',{staticClass:\"d-flex d-sm-none\",on:{\"click\":function($event){_vm.drawer = !_vm.drawer}}})],1),_c('v-navigation-drawer',{staticClass:\"app-sidebar\",attrs:{\"app\":\"\",\"right\":\"\",\"temporary\":\"\"},model:{value:(_vm.drawer),callback:function ($$v) {_vm.drawer=$$v},expression:\"drawer\"}},[_c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item-group',{attrs:{\"active-class\":\"deep-purple--text text--accent-4\"}},[_c('v-list-item',{on:{\"click\":_vm.modalActions.openTutorialModal}},[_c('v-list-item-title',[_vm._v(\"使用教學\")])],1),_c('v-list-item',{on:{\"click\":_vm.modalActions.openSafetyModal}},[_c('v-list-item-title',[_vm._v(\"安全須知\")])],1),_c('v-list-item',{on:{\"click\":_vm.modalActions.openContactModal}},[_c('v-list-item-title',[_vm._v(\"聯絡我們\")])],1),_c('v-list-item',{attrs:{\"href\":\"https://about.disfactory.tw/#section-f_c360c8de-447e-4c0a-a856-4af18b9a5240\",\"target\":\"_blank\"}},[_c('v-list-item-title',[_vm._v(\"常見問題\")])],1),_c('v-list-item',{attrs:{\"href\":\"https://about.disfactory.tw\",\"target\":\"_blank\"}},[_c('v-list-item-title',[_vm._v(\"關於回報系統\")])],1),_c('v-list-item',{attrs:{\"href\":\"https://airtable.com/shrUraKakZRpH52DO\",\"target\":\"_blank\"}},[_c('v-list-item-title',[_vm._v(\"問題回報\")])],1)],1)],1)],1),_c('v-main',{staticStyle:{\"max-height\":\"100%\",\"height\":\"100%\"}},[_c('app-alert',{attrs:{\"alert\":_vm.alertState.alert,\"dismiss\":_vm.alertActions.dismissAlert}}),_c('v-dialog',{attrs:{\"max-width\":\"305\"},model:{value:(_vm.modalState.createFactorySuccessModal),callback:function ($$v) {_vm.$set(_vm.modalState, \"createFactorySuccessModal\", $$v)},expression:\"modalState.createFactorySuccessModal\"}},[_c('v-card',{staticClass:\"text-center pt-5\"},[_c('v-icon',{staticStyle:{\"font-size\":\"80px\"},attrs:{\"color\":\"primary\"}},[_vm._v(\" mdi-checkbox-marked-circle \")]),_c('v-card-title',{staticClass:\"secondary--text justify-center\"},[_vm._v(\" 新增可疑工廠成功 \")]),_c('v-card-text',[_c('small',[_vm._v(\" 3 秒後自動關閉提示訊息 \")])])],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"305\"},model:{value:(_vm.modalState.updateFactoryImageSuccessModal),callback:function ($$v) {_vm.$set(_vm.modalState, \"updateFactoryImageSuccessModal\", $$v)},expression:\"modalState.updateFactoryImageSuccessModal\"}},[_c('v-card',{staticClass:\"text-center pt-5\"},[_c('v-icon',{staticStyle:{\"font-size\":\"80px\"},attrs:{\"color\":\"primary\"}},[_vm._v(\" mdi-checkbox-marked-circle \")]),_c('v-card-title',{staticClass:\"secondary--text justify-center\"},[_vm._v(\" 補充工廠照片成功 \")]),_c('v-card-text',[_c('small',[_vm._v(\" 3 秒後自動關閉提示訊息 \")])])],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"305\"},model:{value:(_vm.modalState.updateFactorySuccessModal),callback:function ($$v) {_vm.$set(_vm.modalState, \"updateFactorySuccessModal\", $$v)},expression:\"modalState.updateFactorySuccessModal\"}},[_c('v-card',{staticClass:\"text-center pt-5\"},[_c('v-icon',{staticStyle:{\"font-size\":\"80px\"},attrs:{\"color\":\"primary\"}},[_vm._v(\" mdi-checkbox-marked-circle \")]),_c('v-card-title',{staticClass:\"secondary--text justify-center\"},[_vm._v(\" 補充工廠資訊成功 \")]),_c('v-card-text',[_c('small',[_vm._v(\" 3 秒後自動關閉提示訊息 \")])])],1)],1),_c('about-modal',{attrs:{\"open\":_vm.modalState.aboutModalOpen,\"dismiss\":_vm.modalActions.closeAboutModal}}),_c('contact-modal',{attrs:{\"open\":_vm.modalState.contactModalOpen,\"dismiss\":_vm.modalActions.closeContactModal}}),_c('getting-started-modal',{attrs:{\"open\":_vm.modalState.gettingStartedModalOpen,\"dismiss\":_vm.modalActions.closeGettingStartedModal}}),_c('safety-modal',{model:{value:(_vm.modalState.safetyModalOpen),callback:function ($$v) {_vm.$set(_vm.modalState, \"safetyModalOpen\", $$v)},expression:\"modalState.safetyModalOpen\"}}),_c('tutorial-modal',{attrs:{\"open\":_vm.modalState.tutorialModalOpen,\"dismiss\":_vm.modalActions.closeTutorialModal}}),_c('ios-version-modal',{attrs:{\"open\":_vm.modalState.supportIOSVersionModalOpen,\"dismiss\":_vm.modalActions.closesupportIOSVersionModal}}),_c('Map',{attrs:{\"setFactoryLocation\":_vm.appActions.setFactoryLocation}}),(_vm.appState.isCreateMode)?_c('create-factory-steps'):_vm._e(),(_vm.appState.isEditMode)?_c('update-factory-steps'):_vm._e()],1),_c('factory-detail-page')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-container\"},[_c('div',{ref:\"root\",staticClass:\"map\"}),(_vm.appState.isInitialPage)?_c('div',{staticClass:\"container-fluid px-1 pt-7 pb-4 filter-buttons-container\",class:{ desktop: _vm.$vuetify.breakpoint.mdAndUp, 'sidebar-expanded': _vm.appState.factoryDetailsExpanded }},[_c('display-setting-bottom-sheet'),_vm._l((_vm.filterButtonsData),function(button){return _c('v-btn',{key:button.value,staticClass:\"mx-2 mb-5 primary--text\",class:{ 'inactive-filter': !_vm.checkActive(button.value) },attrs:{\"rounded\":\"\",\"color\":\"white\",\"name\":button.text},on:{\"click\":function($event){return _vm.onClickFilterButton(button.value)}}},[_c('v-icon',{attrs:{\"color\":button.color}},[_vm._v(\"mdi-map-marker\")]),_vm._v(\" \"+_vm._s(button.text)+\" \")],1)})],2):_vm._e(),_c('div',{staticClass:\"ol-fit-location ol-unselectable ol-control\",attrs:{\"data-label\":\"map-locate\"},on:{\"click\":_vm.zoomToGeolocation}},[_vm._m(0)]),(_vm.appState.selectFactoryMode)?_c('div',{staticClass:\"center-point\"}):_vm._e(),(!_vm.appState.selectFactoryMode)?_c('div',{staticClass:\"factory-button-group flex justify-center mb-5 mb-8-md\"},[_c('v-btn',{attrs:{\"color\":\"primary\",\"rounded\":\"\",\"large\":\"\"},on:{\"click\":_vm.onClickCreateFactoryButton}},[_vm._v(\" 我想新增可疑工廠 \")])],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{attrs:{\"title\":\"定位\"}},[_c('img',{attrs:{\"src\":\"/images/locate.svg\",\"alt\":\"locate\"}})])}]\n\nexport { render, staticRenderFns }","var render = function () {\nvar _obj;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{class:Object.assign({}, {outline: _vm.outline, disabled: _vm.disabled, rect: _vm.rect, small: _vm.small, auto: _vm.auto}, ( _obj = {}, _obj[_vm.color] = true, _obj )),on:{\"click\":_vm.click}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <button\n    :class=\"{ outline, disabled, rect, small, auto, ...{ [color]: true }}\"\n    @click=\"click\"\n  >\n    <slot />\n  </button>\n</template>\n\n<script>\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppButton',\n  props: {\n    outline: {\n      type: Boolean,\n      default: false\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    rect: {\n      type: Boolean,\n      default: false\n    },\n    color: {\n      type: String,\n      default: 'default'\n    },\n    small: {\n      type: Boolean,\n      default: false\n    },\n    auto: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, context) {\n    const click = () => {\n      if (!props.disabled) {\n        context.emit('click')\n      }\n    }\n\n    return {\n      click\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\nbutton {\n  width: 100%;\n  background-color: $primary-color;\n  box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);\n  border: 1px solid #fff;\n  border-radius: 24px;\n  padding: 10px 21px;\n  user-select: none;\n\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n\n  color: $dark-font-color;\n  font-size: 20px;\n  text-align: center;\n\n  &.small {\n    font-size: 12px;\n    padding: 4px 12px;\n  }\n\n  &:hover {\n    cursor: pointer;\n    background-color: lighten($primary-color, 10%);\n  }\n\n  &.disabled {\n    cursor: not-allowed;\n    background-color: #aaa;\n  }\n\n  &.blue {\n    &:hover {\n      background-color: lighten($blue-color, 10%);\n    }\n  }\n\n  &.red {\n    &:hover {\n      background-color: lighten($red-color, 10%);\n    }\n  }\n\n  &.gray {\n    &:hover {\n      background-color: lighten($gray-color, 10%);\n    }\n  }\n\n  &.dark-green {\n    background-color: $dark-green-color;\n\n    &:hover {\n      background-color: lighten($dark-green-color, 10%);\n    }\n  }\n\n  &.white {\n    background-color: white;\n    color: $dark-green-color;\n\n    &:hover {\n      background-color: darken(white, 10%);\n    }\n  }\n\n  &.auto {\n    width: auto;\n  }\n}\n\n.outline {\n  border: 1px solid $primary-color;\n  background-color: #fff;\n  color: $font-color;\n\n  &:hover {\n    cursor: pointer;\n    background-color: $primary-color;\n    color: $dark-font-color;\n  }\n\n  &.blue {\n    border: 1px solid $blue-color;\n\n    &:hover {\n      background-color: $blue-color;\n    }\n  }\n\n  &.red {\n    border: 1px solid $red-color;\n\n    &:hover {\n      background-color: $red-color;\n    }\n  }\n\n  &.gray {\n    border: 1px solid $gray-color;\n\n    &:hover {\n      background-color: $gray-color;\n    }\n  }\n}\n\n.rect {\n  border-radius: 4px;\n  box-shadow: none;\n  height: 100%;\n  font-size: 16px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppButton.vue?vue&type=template&id=a2769d84&scoped=true&\"\nimport script from \"./AppButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppButton.vue?vue&type=style&index=0&id=a2769d84&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a2769d84\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{class:{ dark: _vm.dark, fixed: _vm.fixed, hide: _vm.hide }},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.dark),expression:\"!dark\"}],staticClass:\"back-button\",attrs:{\"data-label\":\"navbar-back\"},on:{\"click\":function($event){return _vm.onBackClick()}}},[_c('span'),_c('span'),_c('span')]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.dark),expression:\"dark\"}],staticClass:\"back-placeholder\"}),_vm._t(\"default\"),_c('div',{staticClass:\"menu-button\",attrs:{\"data-label\":\"navbar-menu\"},on:{\"click\":function($event){return _vm.onMenuClick()}}},[_c('span'),_c('span'),_c('span')])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppNavbar',\n  props: {\n    dark: {\n      type: Boolean,\n      default: true\n    },\n    fixed: {\n      type: Boolean,\n      default: false\n    },\n    back: {\n      type: Function\n    },\n    hide: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (_, { emit }) {\n    return {\n      onBackClick () {\n        emit('back')\n      },\n      onMenuClick () {\n        emit('menu')\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppNavbar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppNavbar.vue?vue&type=template&id=f5670a18&scoped=true&\"\nimport script from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppNavbar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppNavbar.vue?vue&type=style&index=0&id=f5670a18&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f5670a18\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return ((_vm.type)==='checkbox')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],class:{ small: _vm.small },attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.inputValue)?_vm._i(_vm.inputValue,null)>-1:(_vm.inputValue)},on:{\"change\":function($event){var $$a=_vm.inputValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.inputValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.inputValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.inputValue=$$c}}}},'input',_vm.$attrs,false)):((_vm.type)==='radio')?_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],class:{ small: _vm.small },attrs:{\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.inputValue,null)},on:{\"change\":function($event){_vm.inputValue=null}}},'input',_vm.$attrs,false)):_c('input',_vm._b({directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],class:{ small: _vm.small },attrs:{\"type\":_vm.type},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}},'input',_vm.$attrs,false))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input\n    v-bind=\"$attrs\"\n    v-model=\"inputValue\"\n    :type=\"type\"\n    :class=\"{ small }\"\n  >\n</template>\n\n<script>\nimport { computed, createComponent } from '@vue/composition-api'\nexport default createComponent({\n  name: 'AppTextField',\n  props: {\n    type: {\n      type: String,\n      default: 'text'\n    },\n    value: {\n      type: String,\n      required: true\n    },\n    small: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup (props, context) {\n    const inputValue = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      inputValue\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/variables';\ninput {\n  border: 1px solid $second-color;\n  border-radius: 4px;\n  padding: 10px 15px;\n  outline: none;\n\n  width: 100%;\n\n  font-size: $form-font-size;\n\n  &::placeholder {\n    color: rgb(186, 186, 186);\n  }\n\n  &.small {\n    font-size: 14px;\n    padding: 3px 10px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppTextField.vue?vue&type=template&id=e9035d54&scoped=true&\"\nimport script from \"./AppTextField.vue?vue&type=script&lang=js&\"\nexport * from \"./AppTextField.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppTextField.vue?vue&type=style&index=0&id=e9035d54&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e9035d54\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-menu',{attrs:{\"content-class\":\"display-setting-popover\",\"close-on-content-click\":false,\"nudge-width\":200,\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mx-2 mb-5 white--text\",attrs:{\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" 顯示設定 \")])]}}],null,false,3665771213),model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('v-list',[_c('v-list-item',[_c('h2',{staticClass:\"primary--text text-button\"},[_vm._v(\"農地範圍 •\")]),_c('v-btn',{staticClass:\"primary--text\",class:!_vm.isLUIMapVisable ? 'font-weight-bold' : 'font-weight-light',attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.isLUIMapVisable = false}}},[_vm._v(\"隱藏\")]),_c('v-btn',{staticClass:\"primary--text\",class:_vm.isLUIMapVisable ? 'font-weight-bold' : 'font-weight-light',attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.isLUIMapVisable = true}}},[_vm._v(\"顯示\")])],1),_c('v-list-item',[_c('switch-map-mode-button',{attrs:{\"isInSheet\":true}})],1)],1)],1)],1):_c('v-bottom-sheet',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mx-2 mb-5 white--text\",attrs:{\"color\":\"primary\"}},'v-btn',attrs,false),on),[_vm._v(\" 顯示設定 \")])]}}]),model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-list',[_c('v-subheader',[_vm._v(\"地圖顯示設定\")]),_c('v-list-item',[_c('h2',{staticClass:\"primary--text text-button\"},[_vm._v(\"農地範圍 •\")]),_c('v-btn',{staticClass:\"primary--text\",class:!_vm.isLUIMapVisable ? 'font-weight-bold' : 'font-weight-light',attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.isLUIMapVisable = false}}},[_vm._v(\"隱藏\")]),_c('v-btn',{staticClass:\"primary--text\",class:_vm.isLUIMapVisable ? 'font-weight-bold' : 'font-weight-light',attrs:{\"text\":\"\",\"x-small\":\"\"},on:{\"click\":function($event){_vm.isLUIMapVisable = true}}},[_vm._v(\"顯示\")])],1),_c('v-list-item',[_c('switch-map-mode-button',{attrs:{\"isInSheet\":true}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const MainMapControllerSymbol = Symbol('MAIN_MAP_CONTROLLER')\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-bottom-sheet',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"primary--text\",class:_vm.isInSheet ? 'pa-0' : null,attrs:{\"rounded\":!_vm.isInSheet,\"text\":_vm.isInSheet,\"color\":\"white\"}},'v-btn',attrs,false),on),[_vm._v(\" 切換地圖模式 • \"+_vm._s(_vm.currentMapModeName)+\" \")])]}}]),model:{value:(_vm.mapModeBottomSheet),callback:function ($$v) {_vm.mapModeBottomSheet=$$v},expression:\"mapModeBottomSheet\"}},[_c('v-list',[_c('v-subheader',[_vm._v(\"切換地圖模式\")]),_vm._l((_vm.mapModes),function(mode){return _c('v-list-item',{key:mode.type,on:{\"click\":function($event){_vm.currentMapMode = mode.type}}},[_c('v-list-item-title',{staticClass:\"primary--text\"},[_vm._v(_vm._s(mode.name))])],1)})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Feature from 'ol/Feature'\n\n/* eslint-disable quote-props */\nexport const FACTORY_TYPE = [\n  { value: '2-1', text: '金屬: 沖床、銑床、車床、鏜孔' },\n  { value: '2-2', text: '金屬: 焊接、鑄造、熱處理' },\n  { value: '2-3', text: '金屬: 金屬表面處理、噴漆' },\n  { value: '3', text: '塑膠加工、射出' },\n  { value: '4', text: '橡膠加工' },\n  { value: '5', text: '非金屬礦物（石材）' },\n  { value: '6', text: '食品' },\n  { value: '7', text: '皮革' },\n  { value: '8', text: '紡織' },\n  { value: '9', text: '其他' }\n] as const\nexport type FactoryType = (typeof FACTORY_TYPE)[number]['value']\n\nexport type FactoryDisplayStatusType = 'default' | 0 | 1 | 2 | 3\n\nexport const defaultFactoryDisplayStatuses = [\n  'default', 0, 1, 2, 3\n] as FactoryDisplayStatusType[]\n\ntype DocumentDisplayStatus = '已檢舉' | '已排程稽查' | '陳述意見期' | '已勒令停工' | '已發函斷電' | '已排程拆除' | '已拆除' | '等待新事證'\n\ntype FactoryDisplayStatus = {\n  type: FactoryDisplayStatusType,\n  name: string,\n  documentDisplayStatuses: ('疑似工廠' | DocumentDisplayStatus)[],\n  color: string\n}\nexport const FactoryDisplayStatuses: FactoryDisplayStatus[] = [\n  {\n    type: 'default',\n    name: '未處理',\n    documentDisplayStatuses: ['疑似工廠'],\n    color: '#A22A29'\n  },\n  {\n    type: 0,\n    name: '處理中',\n    documentDisplayStatuses: ['已檢舉', '已排程稽查', '陳述意見期', '已勒令停工'],\n    color: '#457287'\n  },\n  {\n    type: 1,\n    name: '已斷電',\n    documentDisplayStatuses: ['已發函斷電', '已排程拆除'],\n    color: '#364516'\n  },\n  {\n    type: 2,\n    name: '已拆除',\n    documentDisplayStatuses: ['已拆除'],\n    color: '#A1A1A1'\n  },\n  {\n    type: 3,\n    name: '無法處理',\n    documentDisplayStatuses: ['等待新事證'],\n    color: '#E0E0E0'\n  }\n]\n\nconst FactoryDisplayStatusMap = FactoryDisplayStatuses.reduce((acc, c) => {\n  return {\n    ...acc,\n    [c.type]: c\n  }\n}, {}) as {\n  [key in FactoryDisplayStatusType]: FactoryDisplayStatus\n}\n\nexport const getDisplayStatusText = (status: FactoryDisplayStatusType) => {\n  return FactoryDisplayStatusMap[status].name\n}\n\nexport const getDisplayStatusColor = (status: FactoryDisplayStatusType) => {\n  return FactoryDisplayStatusMap[status].color\n}\n\nexport type FactoryImage = {\n  id: string,\n  image_path: string,\n  url: string\n}\n\nexport type FactoryData = {\n  id: string,\n  display_number: string,\n  lat: number,\n  lng: number,\n  name: string,\n  landcode: string,\n  townname: string,\n  sectname: string,\n  sectcode: string,\n  source: string,\n  type: FactoryType,\n  images: FactoryImage[],\n  // TODO: can be one of https://docs.djangoproject.com/en/2.2/ref/settings/#datetime-input-formats\n  // eslint-disable-next-line\n  reported_at: null | string,\n  data_complete: boolean,\n  before_release: boolean,\n  document_display_status: DocumentDisplayStatus | null,\n  feature?: Feature,\n  follow_ups_for_user: {\n    note: string,\n    created_at: string\n  }[]\n}\n\nexport type FactoriesResponse = Array<FactoryData>\n\nexport interface FactoriesByStatus {\n  [key: string]: FactoryData[]\n}\n\nexport type FactoryPostData = {\n  name: string,\n  type?: FactoryType,\n  images?: string[],\n  others?: string,\n  lat: number,\n  lng: number,\n  nickname?: string,\n  contact?: string\n}\n\nexport type ReportRecord = {\n  id: string,\n  created_at: string,\n  others?: string\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\ntype PixelMapper = (data: Uint8ClampedArray) => void\n\nconst canvas = (window.OffscreenCanvas) ? new OffscreenCanvas(500, 500) : document.createElement('canvas')\nconst ctx = canvas.getContext('2d')!\n\nexport const createImageProcessor = (processor: PixelMapper) => (src: string): Promise<string> => {\n  return new Promise((resolve) => {\n    const image = new Image()\n    image.crossOrigin = ''\n    image.src = src\n    image.style.display = 'none'\n    image.onload = async () => {\n      canvas.width = image.width\n      canvas.height = image.height\n      ctx.clearRect(0, 0, canvas.width, canvas.height)\n\n      ctx.drawImage(image, 0, 0)\n\n      const imageData = ctx.getImageData(0, 0, image.width, image.height)\n      const { data } = imageData\n\n      await Promise.resolve(processor(data))\n\n      const tmpCanvas = document.createElement('canvas')\n      const tmpCtx = tmpCanvas.getContext('2d')!\n      tmpCanvas.width = image.width\n      tmpCanvas.height = image.height\n\n      tmpCtx.putImageData(imageData, 0, 0)\n\n      resolve(tmpCanvas.toDataURL())\n\n      image.remove()\n      tmpCanvas.remove()\n    }\n  })\n}\n\nexport const toGrayScale = createImageProcessor(data => {\n  // doing grayscale operaion pixel by pixel\n  for (let i = 0; i < data.length; i += 4) {\n    const avg = (data[i] + data[i + 1] + data[i + 2]) / 3\n    data[i] = avg // red\n    data[i + 1] = avg // green\n    data[i + 2] = avg // blue\n  }\n})\n\nconst argriculturalLandColors = [\n  [255, 241, 0]\n]\n\nconst isArrayEqual = (a: Array<any>, b: Array<any>) => !a.some((v, i) => b[i] !== v)\n\nconst isArgriculturalLand = (arr: Array<any>) => argriculturalLandColors.some(c => isArrayEqual(c, arr))\n\nexport const flipArgriculturalLand = createImageProcessor(data => {\n  for (let i = 0; i < data.length; i += 4) {\n    const color = Array.from(data.slice(i, i + 3))\n\n    if (isArgriculturalLand(color)) {\n      // set to transparent\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 1\n    } else {\n      // set to black\n      data[i] = 0\n      data[i + 1] = 0\n      data[i + 2] = 0\n      data[i + 3] = 255\n    }\n  }\n})\n","export const baseStyle = {\n  version: 8,\n  name: 'Light',\n  sources: {\n    protomaps: {\n      type: 'vector',\n      tiles: [\n        'https://api.protomaps.com/tiles/v2/{z}/{x}/{y}.pbf'\n      ],\n      minzoom: 0,\n      maxzoom: 14,\n      attribution: '<a href=\"https://protomaps.com\" target=\"_blank\">Protomaps</a> © <a href=\"https://www.openstreetmap.org\" target=\"_blank\"> OpenStreetMap</a>'\n    }\n  },\n  layers: [\n    {\n      id: 'background',\n      type: 'background',\n      paint: {\n        'background-color': '#dddddd'\n      }\n    },\n    {\n      id: 'earth',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'earth',\n      paint: {\n        'fill-color': ' #e7f1ee'\n      }\n    },\n    {\n      id: 'landuse_park',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'pmap:kind',\n          'park'\n        ],\n        [\n          '==',\n          'landuse',\n          'cemetery'\n        ]\n      ],\n      paint: {\n        'fill-color': '#c2f7d1'\n      }\n    },\n    {\n      id: 'landuse_hospital',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'pmap:kind',\n          'hospital'\n        ]\n      ],\n      paint: {\n        'fill-color': '#ffeae8'\n      }\n    },\n    {\n      id: 'landuse_industrial',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'pmap:kind',\n          'industrial'\n        ]\n      ],\n      paint: {\n        'fill-color': '#f8ffed'\n      }\n    },\n    {\n      id: 'landuse_school',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'pmap:kind',\n          'school'\n        ]\n      ],\n      paint: {\n        'fill-color': '#f2fef9'\n      }\n    },\n    {\n      id: 'natural_wood',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'natural',\n      filter: [\n        'any',\n        [\n          '==',\n          'natural',\n          'wood'\n        ],\n        [\n          '==',\n          'leisure',\n          'nature_reserve'\n        ],\n        [\n          '==',\n          'landuse',\n          'forest'\n        ]\n      ],\n      paint: {\n        'fill-color': '#eafbe9'\n      }\n    },\n    {\n      id: 'landuse_pedestrian',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'highway',\n          'footway'\n        ]\n      ],\n      paint: {\n        'fill-color': '#eef0f0'\n      }\n    },\n    {\n      id: 'natural_scrub',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'natural',\n      filter: [\n        'in',\n        'natural',\n        'scrub',\n        'grassland'\n      ],\n      paint: {\n        'fill-color': 'rgb(219,239,209)'\n      }\n    },\n    {\n      id: 'natural_glacier',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'natural',\n      filter: [\n        '==',\n        'natural',\n        'glacier'\n      ],\n      paint: {\n        'fill-color': 'white'\n      }\n    },\n    {\n      id: 'natural_sand',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'natural',\n      filter: [\n        '==',\n        'natural',\n        'sand'\n      ],\n      paint: {\n        'fill-color': '#eff5e7'\n      }\n    },\n    {\n      id: 'landuse_aerodrome',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        '==',\n        'aeroway',\n        'aerodrome'\n      ],\n      paint: {\n        'fill-color': '#dbe7e7'\n      }\n    },\n    {\n      id: 'transit_runway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'transit',\n      filter: [\n        'has',\n        'aeroway'\n      ],\n      paint: {\n        'line-color': '#d1d9d9',\n        'line-width': 6\n      }\n    },\n    {\n      id: 'landuse_runway',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'landuse',\n      filter: [\n        'any',\n        [\n          '==',\n          'aeroway',\n          'runway'\n        ],\n        [\n          '==',\n          'area:aeroway',\n          'runway'\n        ],\n        [\n          '==',\n          'area:aeroway',\n          'taxiway'\n        ]\n      ],\n      paint: {\n        'fill-color': '#d1d9d9'\n      }\n    },\n    {\n      id: 'water',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'water',\n      paint: {\n        'fill-color': '#a4cae1'\n      }\n    },\n    {\n      id: 'roads_tunnels_other_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'other'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          14,\n          0,\n          14.5,\n          0.5,\n          20,\n          12\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_other',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'other'\n        ]\n      ],\n      paint: {\n        'line-color': '#f7f7f7',\n        'line-dasharray': [\n          1,\n          1\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          14,\n          0,\n          14.5,\n          0.5,\n          20,\n          12\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_minor_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e2e2e2',\n        'line-dasharray': [\n          3,\n          2\n        ],\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_minor',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebebeb',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_medium_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e1e1e1',\n        'line-dasharray': [\n          3,\n          2\n        ],\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          10,\n          0,\n          10.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_medium',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebebeb',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_major_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e3cfd3',\n        'line-dasharray': [\n          3,\n          2\n        ],\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          9,\n          0,\n          9.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_major',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebebeb',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_highway_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebcea2',\n        'line-dasharray': [\n          3,\n          2\n        ],\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_tunnels_highway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '<',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebebeb',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ]\n      }\n    },\n    {\n      id: 'physical_line_waterway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'physical_line',\n      filter: [\n        '==',\n        [\n          'get',\n          'pmap:kind'\n        ],\n        'waterway'\n      ],\n      paint: {\n        'line-color': '#a4cae1',\n        'line-width': 0.5\n      }\n    },\n    {\n      id: 'buildings',\n      type: 'fill-extrusion',\n      source: 'protomaps',\n      'source-layer': 'buildings',\n      paint: {\n        'fill-extrusion-color': '#cbcece',\n        'fill-extrusion-height': [\n          'to-number',\n          [\n            'get',\n            'height'\n          ]\n        ],\n        'fill-extrusion-opacity': 0.5\n      }\n    },\n    {\n      id: 'roads_other',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'other'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-dasharray': [\n          2,\n          1\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          14,\n          0,\n          14.5,\n          0.5,\n          20,\n          12\n        ]\n      }\n    },\n    {\n      id: 'roads_minor_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e2e2e2',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_minor',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': 'white',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_medium_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e1e1e1',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          10,\n          0,\n          10.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_medium',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_major_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e3cfd3',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          9,\n          0,\n          9.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_major',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_highway_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebcea2',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_highway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#fefffc',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ]\n      }\n    },\n    {\n      id: 'transit_railway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'transit',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:kind',\n          'railway'\n        ]\n      ],\n      paint: {\n        'line-color': '#b3bcc9',\n        'line-width': 2\n      }\n    },\n    {\n      id: 'transit_railway_tracks',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'transit',\n      filter: [\n        'all',\n        [\n          '==',\n          'pmap:kind',\n          'railway'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-width': 0.8,\n        'line-dasharray': [\n          6,\n          10\n        ]\n      }\n    },\n    {\n      id: 'boundaries',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'boundaries',\n      paint: {\n        'line-color': '#5c4a6b',\n        'line-width': 0.5,\n        'line-dasharray': [\n          3,\n          2\n        ]\n      }\n    },\n    {\n      id: 'physical_line_waterway_label',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'physical_line',\n      minzoom: 14,\n      layout: {\n        'symbol-placement': 'line',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-field': [\n          'get',\n          'name'\n        ],\n        'text-size': 14,\n        'text-letter-spacing': 0.3\n      },\n      paint: {\n        'text-color': 'white',\n        'text-halo-color': '#a4cae1',\n        'text-halo-width': 2\n      }\n    },\n    {\n      id: 'roads_bridges_other_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'other'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          14,\n          0,\n          14.5,\n          0.5,\n          20,\n          12\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_other',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'other'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-dasharray': [\n          2,\n          1\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          14,\n          0,\n          14.5,\n          0.5,\n          20,\n          12\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_minor_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e2e2e2',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_minor',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'minor_road'\n        ]\n      ],\n      paint: {\n        'line-color': 'white',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          12,\n          0,\n          12.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_medium_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e1e1e1',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          10,\n          0,\n          10.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_medium',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'medium_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          20,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_major_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#e3cfd3',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          9,\n          0,\n          9.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_major',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'major_road'\n        ]\n      ],\n      paint: {\n        'line-color': '#ffffff',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          0.5,\n          19,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_highway_casing',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#ebcea2',\n        'line-gap-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ],\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          7,\n          0,\n          7.5,\n          1\n        ]\n      }\n    },\n    {\n      id: 'roads_bridges_highway',\n      type: 'line',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      filter: [\n        'all',\n        [\n          '>',\n          'pmap:level',\n          0\n        ],\n        [\n          '==',\n          'pmap:kind',\n          'highway'\n        ]\n      ],\n      paint: {\n        'line-color': '#fefffc',\n        'line-width': [\n          'interpolate',\n          [\n            'exponential',\n            1.6\n          ],\n          [\n            'zoom'\n          ],\n          3,\n          0,\n          3.5,\n          0.5,\n          18,\n          32\n        ]\n      }\n    },\n    {\n      id: 'roads_labels',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'roads',\n      minzoom: 13,\n      layout: {\n        'symbol-placement': 'line',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-field': [\n          'get',\n          'name'\n        ],\n        'text-size': 14\n      },\n      paint: {\n        'text-color': '#91888b',\n        'text-halo-color': 'white',\n        'text-halo-width': 2\n      }\n    },\n    {\n      id: 'mask',\n      type: 'fill',\n      source: 'protomaps',\n      'source-layer': 'mask',\n      paint: {\n        'fill-color': '#dddddd'\n      }\n    },\n    {\n      id: 'physical_point_ocean',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'physical_point',\n      filter: [\n        'any',\n        [\n          '==',\n          'place',\n          'sea'\n        ],\n        [\n          '==',\n          'place',\n          'ocean'\n        ]\n      ],\n      layout: {\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-field': [\n          'get',\n          'name'\n        ],\n        'text-size': 14,\n        'text-letter-spacing': 0.15\n      },\n      paint: {\n        'text-color': 'white',\n        'text-halo-color': '#a4cae1',\n        'text-halo-width': 1\n      }\n    },\n    {\n      id: 'physical_point_peak',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'physical_point',\n      filter: [\n        'any',\n        [\n          '==',\n          'natural',\n          'peak'\n        ]\n      ],\n      layout: {\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-field': [\n          'get',\n          'name'\n        ],\n        'text-size': 14\n      },\n      paint: {\n        'text-color': '#61bb5b',\n        'text-halo-color': '#ffffff',\n        'text-halo-width': 1.5\n      }\n    },\n    {\n      id: 'places_subplace',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'places',\n      filter: [\n        '==',\n        'pmap:kind',\n        'neighbourhood'\n      ],\n      minzoom: 10,\n      layout: {\n        'text-field': '{name}',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-size': {\n          base: 1.2,\n          stops: [\n            [\n              11,\n              13\n            ],\n            [\n              14,\n              15\n            ]\n          ]\n        },\n        'text-transform': 'uppercase'\n      },\n      paint: {\n        'text-color': '#757d91',\n        'text-halo-color': 'white',\n        'text-halo-width': 1\n      }\n    },\n    {\n      id: 'places_city_circle',\n      type: 'circle',\n      source: 'protomaps',\n      'source-layer': 'places',\n      filter: [\n        '==',\n        'pmap:kind',\n        'city'\n      ],\n      paint: {\n        'circle-radius': 2,\n        'circle-stroke-width': 2,\n        'circle-stroke-color': 'white',\n        'circle-color': '#666666'\n      },\n      maxzoom: 8\n    },\n    {\n      id: 'places_city',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'places',\n      filter: [\n        '==',\n        'pmap:kind',\n        'city'\n      ],\n      layout: {\n        'text-field': '{name}',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-size': [\n          'step',\n          [\n            'get',\n            'pmap:rank'\n          ],\n          0,\n          1,\n          18,\n          2,\n          16\n        ],\n        'text-variable-anchor': [\n          'bottom-left'\n        ],\n        'text-radial-offset': 0.2\n      },\n      paint: {\n        'text-color': '#787878',\n        'text-halo-color': 'white',\n        'text-halo-width': 1\n      }\n    },\n    {\n      id: 'places_state',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'places',\n      filter: [\n        '==',\n        'pmap:kind',\n        'state'\n      ],\n      layout: {\n        'text-field': '{name}',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-size': 12,\n        'text-radial-offset': 0.2,\n        'text-anchor': 'center',\n        'text-transform': 'uppercase'\n      },\n      paint: {\n        'text-color': '#bdbdbd',\n        'text-halo-color': 'white',\n        'text-halo-width': 0.5\n      }\n    },\n    {\n      id: 'places_country',\n      type: 'symbol',\n      source: 'protomaps',\n      'source-layer': 'places',\n      filter: [\n        '==',\n        'place',\n        'country'\n      ],\n      layout: {\n        'text-field': '{name}',\n        'text-font': [\n          'Microsoft JhengHei',\n          'STHeitiTC-Medium'\n        ],\n        'text-size': {\n          base: 1.2,\n          stops: [\n            [\n              2,\n              14\n            ],\n            [\n              6,\n              14\n            ],\n            [\n              8,\n              20\n            ]\n          ]\n        },\n        'text-transform': 'uppercase'\n      },\n      paint: {\n        'text-color': '#9590aa',\n        'text-halo-color': 'white',\n        'text-halo-width': 1.0\n      }\n    }\n  ]\n}\n","import { FactoryData } from '@/types'\nimport Feature from 'ol/Feature'\n\nconst featurePointCachedByCoord = new Map<string, Feature>()\nexport class FactoryPointCache {\n  static getFactoryCacheKey (factory: FactoryData) {\n    return `${factory.lat},${factory.lng}`\n  }\n\n  static getFactoryCache (factory: FactoryData) {\n    return featurePointCachedByCoord.get(this.getFactoryCacheKey(factory))\n  }\n\n  static setFactoryCache (factory: FactoryData, feature: Feature) {\n    featurePointCachedByCoord.set(this.getFactoryCacheKey(factory), feature)\n  }\n}\n\nexport default FactoryPointCache\n","import { inject, InjectionKey, provide, Ref, ref } from '@vue/composition-api'\nimport { BASE_MAP } from './map'\n\nconst mapModeSymbol: InjectionKey<{ currentMapMode: Ref<BASE_MAP> }> = Symbol('MapModeSymbol')\n\nexport function provideMapMode () {\n  const currentMapMode = ref(BASE_MAP.OSM)\n\n  return provide(mapModeSymbol, { currentMapMode })\n}\n\nexport function useMapMode () {\n  const context = inject(mapModeSymbol)\n\n  if (!context) {\n    throw new Error('Please use provideMapMode before useMapMode.')\n  }\n\n  return context\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, ref, inject, computed } from '@vue/composition-api'\nimport { BASE_MAP, BASE_MAP_NAME, MapFactoryController } from '@/lib/map'\nimport { MainMapControllerSymbol } from '@/symbols'\nimport { useMapMode } from '@/lib/useMapMode'\n\nexport default createComponent({\n  name: 'SwitchMapModeButton',\n  props: {\n    isInSheet: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup () {\n    const mapModeBottomSheet = ref(false)\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n\n    const { currentMapMode: currentMapMode$ } = useMapMode()\n    const currentMapMode = computed({\n      get: () => currentMapMode$.value,\n      set: (value) => {\n        currentMapMode$.value = value\n\n        mapController.value?.mapInstance.changeBaseMap(value)\n        mapModeBottomSheet.value = false\n      }\n    })\n\n    const mapModes = [\n      BASE_MAP.SATELITE,\n      BASE_MAP.OSM,\n      BASE_MAP.TAIWAN,\n      BASE_MAP.PROTOMAP\n    ].map(type => ({\n      type,\n      name: BASE_MAP_NAME[type]\n    }))\n\n    const currentMapModeName = computed(() =>\n      mapModes.find((mode) => mode.type === currentMapMode.value)?.name ?? mapModes[0]?.name\n    )\n\n    return {\n      mapModeBottomSheet,\n      mapModes,\n      currentMapMode,\n      currentMapModeName\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchMapModeButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SwitchMapModeButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SwitchMapModeButton.vue?vue&type=template&id=56918780&\"\nimport script from \"./SwitchMapModeButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./SwitchMapModeButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBottomSheet,VBtn,VList,VListItem,VListItemTitle,VSubheader})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, ref, inject, computed } from '@vue/composition-api'\nimport { MainMapControllerSymbol } from '@/symbols'\nimport { MapFactoryController } from '@/lib/map'\n\nimport SwitchMapModeButton from '@/components/SwitchMapModeButton.vue'\n\nexport default createComponent({\n  name: 'DisplaySettingBottomSheet',\n  components: {\n    SwitchMapModeButton\n  },\n  setup () {\n    const isOpen = ref(false)\n    const mapController = inject(\n      MainMapControllerSymbol,\n      ref<MapFactoryController>()\n    )\n\n    const isLUIMapVisable$ = ref(false)\n    const isLUIMapVisable = computed({\n      get: () => {\n        isLUIMapVisable$.value = !!mapController.value?.mapInstance.getLUILayerVisible()\n\n        return isLUIMapVisable$.value\n      },\n      set: value => {\n        mapController.value?.mapInstance.setLUILayerVisible(value)\n        isLUIMapVisable$.value = value\n      }\n    })\n\n    return {\n      isOpen,\n      isLUIMapVisable\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplaySettingBottomSheet.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DisplaySettingBottomSheet.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DisplaySettingBottomSheet.vue?vue&type=template&id=17c91206&scoped=true&\"\nimport script from \"./DisplaySettingBottomSheet.vue?vue&type=script&lang=ts&\"\nexport * from \"./DisplaySettingBottomSheet.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DisplaySettingBottomSheet.vue?vue&type=style&index=0&id=17c91206&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17c91206\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBottomSheet } from 'vuetify/lib/components/VBottomSheet';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VBottomSheet,VBtn,VCard,VList,VListItem,VMenu,VSubheader})\n","import axios from 'axios'\nimport { FactoryPostData, FactoryData, FactoriesResponse, FactoryImage, ReportRecord } from '@/types'\nimport EXIF from '@disfactory/exif-js'\n\nconst baseURL = process.env.NODE_ENV === 'production' ? process.env.VUE_APP_BASE_URL : '/server/api'\n\nconst instance = axios.create({\n  baseURL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n})\n\ntype ImageResponse = {\n  token: string\n}\n\nexport type UploadedImages = {\n  token: string,\n  src: string // used for preview images\n}[]\n\nexport async function getFactories (range: number, lng: number, lat: number): Promise<FactoriesResponse> {\n  try {\n    const { data } = await instance.get(`/factories?range=${range}&lng=${lng}&lat=${lat}`)\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Get factory failed')\n  }\n}\n\nexport async function getFactory (factoryId: string): Promise<FactoryData> {\n  try {\n    const { data } = await instance.get(`/factories/${factoryId}`)\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Get factory failed')\n  }\n}\n\nconst IMGUR_CLIENT_ID = '39048813b021935'\n\nasync function uploadToImgur (file: File) {\n  const formData = new FormData()\n  formData.append('image', file)\n\n  const { data } = await axios({\n    method: 'POST',\n    url: 'https://api.imgur.com/3/image',\n    data: formData,\n    headers: {\n      'Content-Type': 'multipart/form-data',\n      Authorization: `Client-ID ${IMGUR_CLIENT_ID}`\n    }\n  })\n\n  return {\n    link: data.data.link as string,\n    deletehash: data.data.deletehash as string,\n    file\n  }\n}\n\nconst convertTurple2Number = (input: [number, number, number]) => input[0] + (input[1] / 60) + (input[2] / 3600)\n\ntype ExifData = { DateTimeOriginal?: string, GPSLatitude?: [number, number, number], GPSLongitude?: [number, number, number] }\ntype AfterExifData = { Latitude?: number, Longitude?: number, DateTimeOriginal?: string }\n\nfunction readImageExif (file: File): Promise<AfterExifData> {\n  const fileReader = new FileReader()\n  return new Promise((resolve) => {\n    fileReader.onload = (e: ProgressEvent<FileReader>) => {\n      if (!e.target) {\n        resolve({})\n        return\n      }\n      const data: ExifData = EXIF.readFromBinaryFile(e.target.result)\n\n      const result: AfterExifData = {}\n      if (data.GPSLatitude) {\n        result.Latitude = convertTurple2Number(data.GPSLatitude)\n      }\n      if (data.GPSLongitude) {\n        result.Longitude = convertTurple2Number(data.GPSLongitude)\n      }\n      if (data.DateTimeOriginal) {\n        result.DateTimeOriginal = data.DateTimeOriginal\n      }\n\n      resolve(result)\n    }\n    fileReader.readAsArrayBuffer(file)\n  })\n}\n\nexport type UploadedImage = {\n  token: string,\n  src: string\n}\n\nasync function uploadExifAndGetToken ({ link, file, deletehash }: { link: string, file: File, deletehash: string }) {\n  const exifData = await readImageExif(file)\n  const { data }: { data: ImageResponse } = await instance.post('/images', { url: link, ...exifData, deletehash })\n\n  return {\n    token: data.token,\n    src: URL.createObjectURL(file)\n  } as UploadedImage\n}\n\nexport async function uploadImages (files: FileList): Promise<UploadedImages> {\n  return Promise.all(\n    Array.from(files).map((file) => uploadToImgur(file).then((el) => uploadExifAndGetToken(el)))\n  )\n}\n\nexport async function updateFactoryImages (factoryId: string, files: FileList, { nickname, contact }: { nickname?: string, contact?: string }) {\n  return Promise.all(\n    Array.from(files).map((file) => uploadToImgur(file).then((el) => (async () => {\n      const exifData = await readImageExif(el.file)\n      const { data }: { data: FactoryImage } = await instance.post(`/factories/${factoryId}/images`, { url: el.link, ...exifData, nickname, contact, deletehash: el.deletehash })\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      data.image_path = el.link\n      return data\n    })()))\n  )\n}\n\nexport async function createFactory (factory: FactoryPostData): Promise<FactoryData> {\n  try {\n    const { data }: { data: FactoryData } = await instance.post('/factories', JSON.stringify(factory))\n\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Create factory failed')\n  }\n}\n\n// !FIXME: add more factory fields\ntype UpdatableFactoryFields = {\n  name: string,\n  nickname: string,\n  contact: string,\n  others: string,\n  images: string[]\n}\n\nexport async function updateFactory (factoryId: string, factoryData: Partial<UpdatableFactoryFields>): Promise<FactoryData> {\n  try {\n    const { data }: { data: FactoryData } = await instance.put(`/factories/${factoryId}`, JSON.stringify(factoryData))\n\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Update factory failed')\n  }\n}\n\nexport async function getFactoryReportRecords (factoryId: string) {\n  try {\n    const { data }: { data: ReportRecord[] } = await instance.get(`/factories/${factoryId}/report_records`)\n    return data\n  } catch (err) {\n    console.error(err)\n    throw new TypeError('Fetch factory error')\n  }\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { SetupContext, provide, inject } from '@vue/composition-api'\n\nconst GASymbol = Symbol('GASymbol')\n\nexport function provideGA (context: SetupContext) {\n  provide(GASymbol, (context.root as any).$gtag)\n}\n\nexport function useGA () {\n  const gtag: any = inject(GASymbol)\n\n  if (!gtag) {\n    throw new Error('use provideGA before useGA')\n  }\n\n  const pageview = (path: string) => {\n    // eslint-disable-next-line @typescript-eslint/camelcase\n    gtag.pageview({ page_path: path })\n  }\n\n  const event = (event: string, data: any = {}) => {\n    gtag.event(event, data)\n  }\n\n  return { pageview, event }\n}\n","// eslint-disable-next-line @typescript-eslint/prefer-regexp-exec\nexport const isiOS = !!(navigator.userAgent.match(/(iPod|iPhone|iPad)/) && navigator.userAgent.match(/AppleWebKit/))\n\nexport const isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent)\n\nexport function iOSversion () {\n  if (/iP(hone|od|ad)/.test(navigator.platform)) {\n    /* eslint-disable-next-line @typescript-eslint/prefer-regexp-exec */\n    const v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/)\n    if (v) {\n      return [parseInt(v[1], 10), parseInt(v[2], 10), parseInt(v[3] || '0', 10)].join('.')\n    }\n  }\n}\n\nexport function isNotSupportedIOS () {\n  let version\n  /* eslint-disable-next-line @typescript-eslint/prefer-regexp-exec */\n  return !!isiOS && !!(version = iOSversion()) && !!version.match(/^13\\.(1|2|3)/)\n}\n","import { ref, Ref, provide, inject, reactive, InjectionKey } from '@vue/composition-api'\nimport { useGA } from './useGA'\nimport { isNotSupportedIOS } from './browserCheck'\n\nexport const useModal = (defaultOpen = false): [Ref<boolean>, { open: () => void, dismiss: () => void }] => {\n  const state = ref(defaultOpen)\n\n  const open = () => {\n    state.value = true\n  }\n\n  const dismiss = () => {\n    state.value = false\n  }\n\n  return [\n    state,\n    {\n      open,\n      dismiss\n    }\n  ]\n}\n\nconst ModalStateSymbol: InjectionKey<ModalState> = Symbol('ModalStateSymbol')\n\nexport const provideModalState = () => {\n  const modalState = reactive({\n    updateFactorySuccessModal: false,\n    updateFactoryImageSuccessModal: false,\n    createFactorySuccessModal: false,\n    aboutModalOpen: false,\n    contactModalOpen: false,\n    safetyModalOpen: false,\n    gettingStartedModalOpen: localStorage.getItem('use-app') !== 'true',\n    tutorialModalOpen: false,\n    supportIOSVersionModalOpen: isNotSupportedIOS(),\n\n    sidebarOpen: false,\n    filterModalOpen: false\n  })\n\n  provide(ModalStateSymbol, modalState)\n\n  return modalState\n}\n\ntype ModalState = ReturnType<typeof provideModalState>\n\ntype ModalActions = {\n  openUpdateFactorySuccessModal: Function,\n  openUpdateFactoryImagesSuccessModal: Function,\n\n  openCreateFactorySuccessModal: Function,\n  closeCreateFactorySuccessModal: Function,\n\n  openAboutModal: Function,\n  closeAboutModal: Function,\n\n  openContactModal: Function,\n  closeContactModal: Function,\n\n  openSafetyModal: Function,\n  closeSafetyModal: Function,\n\n  openGettingStartedModal: Function,\n  closeGettingStartedModal: Function,\n\n  toggleSidebar: Function,\n\n  closeFilterModal: Function,\n  openFilterModal: Function,\n\n  closeTutorialModal: Function,\n  openTutorialModal: Function,\n\n  closesupportIOSVersionModal: Function\n}\n\nexport const useModalState: () => [ModalState, ModalActions] = () => {\n  const modalState = inject(ModalStateSymbol)\n\n  if (!modalState) {\n    throw new Error('Use useModalState before provideModalState')\n  }\n  const { event } = useGA()\n\n  const openUpdateFactoryImagesSuccessModal = () => {\n    modalState.updateFactoryImageSuccessModal = true\n\n    window.setTimeout(() => {\n      modalState.updateFactoryImageSuccessModal = false\n    }, 3000)\n  }\n\n  const openUpdateFactorySuccessModal = () => {\n    modalState.updateFactorySuccessModal = true\n\n    window.setTimeout(() => {\n      modalState.updateFactorySuccessModal = false\n    }, 3000)\n  }\n\n  const openCreateFactorySuccessModal = () => {\n    modalState.createFactorySuccessModal = true\n    window.setTimeout(() => {\n      modalState.createFactorySuccessModal = false\n    }, 3000)\n  }\n  const closeCreateFactorySuccessModal = () => { modalState.createFactorySuccessModal = false }\n\n  const openAboutModal = () => { modalState.aboutModalOpen = true }\n  const closeAboutModal = () => { modalState.aboutModalOpen = false }\n\n  const openContactModal = () => { modalState.contactModalOpen = true }\n  const closeContactModal = () => { modalState.contactModalOpen = false }\n\n  const openSafetyModal = () => { modalState.safetyModalOpen = true }\n  const closeSafetyModal = () => { modalState.safetyModalOpen = false }\n\n  const openGettingStartedModal = () => { modalState.gettingStartedModalOpen = true }\n  const closeGettingStartedModal = () => { modalState.gettingStartedModalOpen = false }\n\n  const openTutorialModal = () => { modalState.tutorialModalOpen = true }\n  const closeTutorialModal = () => { modalState.tutorialModalOpen = false }\n\n  const closesupportIOSVersionModal = () => { modalState.supportIOSVersionModalOpen = false }\n\n  const toggleSidebar = () => {\n    const open = !modalState.sidebarOpen\n    event('toggleSidebar', { target: open })\n    modalState.sidebarOpen = open\n  }\n\n  const closeFilterModal = () => {\n    event('closeFilterModal')\n    modalState.filterModalOpen = false\n  }\n  const openFilterModal = () => {\n    event('openFilterModal')\n    modalState.filterModalOpen = true\n  }\n\n  const modalActions = {\n    openUpdateFactorySuccessModal,\n    openUpdateFactoryImagesSuccessModal,\n\n    openCreateFactorySuccessModal,\n    closeCreateFactorySuccessModal,\n\n    openAboutModal,\n    closeAboutModal,\n\n    openContactModal,\n    closeContactModal,\n\n    openSafetyModal,\n    closeSafetyModal,\n\n    openGettingStartedModal,\n    closeGettingStartedModal,\n\n    openTutorialModal,\n    closeTutorialModal,\n\n    toggleSidebar,\n    openFilterModal,\n    closeFilterModal,\n\n    closesupportIOSVersionModal\n  }\n\n  return [modalState, modalActions]\n}\n","import { inject, provide, reactive, computed } from '@vue/composition-api'\nimport { useGA } from './useGA'\nimport { FactoryData } from '../types'\nimport { featureStyleCache } from './map'\n\nconst AppStateSymbol = Symbol('AppState')\n\n// A global state that can be shared across the entire application\n\nexport const enum PageState {\n  INITIAL = 'INITIAL',\n  CREATE_FACTORY_1 = 'CREATE_FACTORY_1',\n  CREATE_FACTORY_2 = 'CREATE_FACTORY_2',\n  CREATE_FACTORY_3 = 'CREATE_FACTORY_3',\n  UPDATE_FACTORY_IMAGES = 'UPDATE_FACTORY_IMAGES',\n  UPDATE_FACTORY_MODE = 'UPDATE_FACTORY_MODE'\n}\n\nconst CreateFactoryPageState = [\n  PageState.CREATE_FACTORY_1,\n  PageState.CREATE_FACTORY_2,\n  PageState.CREATE_FACTORY_3\n]\n\nconst UpdateFactoryPageState = [\n  PageState.UPDATE_FACTORY_IMAGES,\n  PageState.UPDATE_FACTORY_MODE\n]\n\nexport const provideAppState = () => {\n  const appState: {\n    pageState: PageState,\n    factoryData: FactoryData | null,\n    factoryLocation: number[],\n    isCreateMode: boolean,\n    createStepIndex: number,\n    isEditImagesMode: boolean,\n    selectFactoryMode: boolean,\n    formPageOpen: boolean,\n    mapLngLat: number[],\n    canPlaceFactory: boolean,\n    factoryDetailsExpanded: boolean,\n    updateFactoryField: string,\n    isEditComment: boolean,\n    isEditName: boolean,\n    isEditType: boolean,\n    isInitialPage: boolean\n  } = reactive({\n    // Page state\n    pageState: PageState.INITIAL,\n\n    factoryData: null,\n    factoryLocation: [] as number[],\n\n    isCreateMode: computed(() => CreateFactoryPageState.includes(appState.pageState)),\n    createStepIndex: computed(() => CreateFactoryPageState.indexOf(appState.pageState) + 1),\n\n    isEditImagesMode: computed(() => appState.pageState === PageState.UPDATE_FACTORY_IMAGES),\n    isEditFactoryMode: computed(() => appState.pageState === PageState.UPDATE_FACTORY_MODE),\n    updateFactoryField: 'others',\n    isEditComment: computed(() => appState.pageState === PageState.UPDATE_FACTORY_MODE && appState.updateFactoryField === 'others'),\n    isEditName: computed(() => appState.pageState === PageState.UPDATE_FACTORY_MODE && appState.updateFactoryField === 'name'),\n    isEditType: computed(() => appState.pageState === PageState.UPDATE_FACTORY_MODE && appState.updateFactoryField === 'factory_type'),\n\n    isEditMode: computed(() => UpdateFactoryPageState.includes(appState.pageState)),\n    isInitialState: computed(() => appState.pageState === PageState.INITIAL),\n\n    selectFactoryMode: computed(() => appState.pageState === PageState.CREATE_FACTORY_1),\n    formPageOpen: computed(() => CreateFactoryPageState.includes(appState.pageState) || appState.pageState === PageState.UPDATE_FACTORY_IMAGES),\n    isInitialPage: computed(() => appState.pageState === PageState.INITIAL),\n\n    // map states\n    mapLngLat: [] as number[],\n    canPlaceFactory: false,\n    factoryDetailsExpanded: false\n  })\n\n  provide(AppStateSymbol, appState)\n\n  return [appState]\n}\n\nconst registerMutator = (appState: AppState) => {\n  const { event, pageview } = useGA()\n\n  // page transition methods\n  const invalidPageTransition = () => {\n    throw new Error('Invalid page transition')\n  }\n\n  // a state machine transition implementation\n  const pageTransition = {\n    startCreateFactory () {\n      if (appState.pageState === PageState.INITIAL) {\n        appState.pageState = PageState.CREATE_FACTORY_1\n      } else {\n        invalidPageTransition()\n      }\n\n      event('enterSelectFactoryMode')\n    },\n\n    gotoNextCreate () {\n      const index = CreateFactoryPageState.indexOf(appState.pageState)\n      if (index !== -1 && index !== CreateFactoryPageState.length - 1) {\n        appState.pageState = CreateFactoryPageState[index + 1]\n      } else {\n        invalidPageTransition()\n      }\n\n      if (index === 0) {\n        pageview('/create')\n      }\n    },\n\n    nextCreateStep () {\n      const index = CreateFactoryPageState.indexOf(appState.pageState)\n      if (CreateFactoryPageState[index + 1]) {\n        appState.pageState = CreateFactoryPageState[index + 1]\n      }\n    },\n\n    previousCreateStep () {\n      const index = CreateFactoryPageState.indexOf(appState.pageState)\n      if (CreateFactoryPageState[index - 1]) {\n        appState.pageState = CreateFactoryPageState[index - 1]\n      }\n    },\n\n    cancelCreateFactory () {\n      if (appState.pageState in CreateFactoryPageState) {\n        appState.pageState = PageState.INITIAL\n      } else {\n        invalidPageTransition()\n      }\n\n      event('exitSelectFactoryMode')\n    },\n\n    /**\n     * Goto create step\n     * Noted: **zero-based**, can be either 0, 1, 2\n     */\n    gotoCreateStep (step: number) {\n      if (CreateFactoryPageState[step]) {\n        appState.pageState = CreateFactoryPageState[step]\n      } else {\n        invalidPageTransition()\n      }\n    },\n\n    startUpdateFactoryImages () {\n      if (appState.pageState === PageState.INITIAL) {\n        appState.pageState = PageState.UPDATE_FACTORY_IMAGES\n      } else {\n        invalidPageTransition()\n      }\n\n      pageview('/edit')\n    },\n\n    cancelUpdateFactoryImages () {\n      if (appState.pageState === PageState.UPDATE_FACTORY_IMAGES) {\n        appState.pageState = PageState.INITIAL\n      } else {\n        invalidPageTransition()\n      }\n\n      event('exitUpdateFactoryImagesMode')\n    },\n\n    startUpdateFactoryComment (field = 'others') {\n      if (appState.pageState === PageState.INITIAL) {\n        appState.pageState = PageState.UPDATE_FACTORY_MODE\n        appState.updateFactoryField = field\n      } else {\n        invalidPageTransition()\n      }\n\n      pageview('/editComment')\n    },\n\n    cancelUpdateFactoryComment () {\n      if (appState.pageState === PageState.UPDATE_FACTORY_MODE) {\n        appState.pageState = PageState.INITIAL\n      } else {\n        invalidPageTransition()\n      }\n\n      event('exitUpdateFactoryCommentsMode')\n    },\n\n    closeFactoryPage () {\n      if (CreateFactoryPageState.includes(appState.pageState) || UpdateFactoryPageState.includes(appState.pageState)) {\n        appState.pageState = PageState.INITIAL\n      } else {\n        invalidPageTransition()\n      }\n      event('closeFactoryPage')\n    }\n  }\n\n  function updateFactoryData (factory: FactoryData) {\n    appState.factoryData = factory\n  }\n\n  function expandFactoryDetail () {\n    appState.factoryDetailsExpanded = true\n  }\n\n  function collapseFactoryDetail () {\n    const defaultStyle = featureStyleCache.get(appState.factoryData?.id as string)\n    if (defaultStyle) {\n      appState.factoryData?.feature?.setStyle(defaultStyle)\n    }\n    appState.factoryDetailsExpanded = false\n    appState.factoryData = null\n  }\n\n  function toggleFactoryDetail () {\n    appState.factoryDetailsExpanded = !appState.factoryDetailsExpanded\n  }\n\n  return {\n    pageTransition,\n\n    updateFactoryData,\n\n    openEditFactoryForm (factory: FactoryData) {\n      updateFactoryData(factory)\n      pageTransition.startUpdateFactoryImages()\n\n      pageview('/edit')\n    },\n\n    setFactoryLocation (value: [number, number]) {\n      appState.factoryLocation = value\n      event('setFactoryLocation')\n    },\n\n    expandFactoryDetail,\n    collapseFactoryDetail,\n    toggleFactoryDetail\n  }\n}\n\ntype AppState = ReturnType<typeof provideAppState>[0]\ntype AppAction = ReturnType<typeof registerMutator>\n\nexport const useAppState: () => [AppState, AppAction] = () => {\n  const appState = inject(AppStateSymbol) as AppState\n\n  return [appState, registerMutator(appState)]\n}\n","import { inject, provide, reactive } from '@vue/composition-api'\n\nconst AlertStateSymbol = Symbol('AlertState')\n\nenum AlertLevel {\n  info = 'info',\n  warn = 'warn',\n  error = 'error'\n}\n\ntype Alert = {\n  level: AlertLevel,\n  title: string,\n  dismissText: string\n}\n\ntype AlertState = {\n  alert: Alert | null,\n  timeout?: number\n}\n\nexport const provideAlertState = () => {\n  const alertState = reactive({\n    alert: null\n  })\n\n  provide(AlertStateSymbol, alertState)\n\n  return [alertState]\n}\n\nexport const alertActions = (state: AlertState) => ({\n  showAlert: function (title: string, timeouts = 3000, level: AlertLevel = AlertLevel.warn, dismissText = '此錯誤訊息將在3秒後消失。') {\n    state.alert = {\n      title,\n      level,\n      dismissText\n    }\n\n    state.timeout = window.setTimeout(() => {\n      state.alert = null\n      state.timeout = undefined\n    }, timeouts)\n  },\n\n  dismissAlert: function () {\n    state.alert = null\n\n    if (state.timeout) {\n      window.clearTimeout(state.timeout)\n      state.timeout = undefined\n    }\n  }\n})\n\nexport const useAlertState: () => [AlertState, ReturnType<typeof alertActions>] = () => {\n  const alertState = inject(AlertStateSymbol) as AlertState\n\n  return [alertState, alertActions(alertState)]\n}\n","import { getFactory } from '@/api'\nimport { MapFactoryController } from './map'\n\nexport function parseHashParams (hash: string): { [key: string]: string } {\n  const hashContent = /^#(.+)/.exec(hash)\n\n  if (!hashContent) {\n    return {}\n  }\n\n  return hashContent[1].split('&').reduce((acc, kv) => {\n    const [key, value] = kv.split('=')\n    return ({\n      ...acc,\n      [key]: value\n    })\n  }, {})\n}\n\nexport function stringifyHash (obj: { [key: string]: string }): string {\n  return '#' + Object.entries(obj).map(([key, value]) => {\n    return `${key}=${value}`\n  }).join('&')\n}\n\n// https://github.com/teia-tw/drinking_water/blob/f2fe7962bf9a48438eec5068e8bfe8b320f5b7e7/app.js#L6-L36\n\ntype PermaLinkState = {\n  lat?: number,\n  lng?: number,\n  zoom?: number\n}\nconst fields: (keyof PermaLinkState)[] = ['lat', 'lng', 'zoom']\n\ntype KeyFn<T> = { [P in keyof Required<T>]: () => number | void }\n\nexport const permalink = new class implements KeyFn<PermaLinkState> {\n  s: PermaLinkState = {}\n\n  load (loc: Location) {\n    const { map } = parseHashParams(loc.hash)\n    const m = /([\\d.]+)\\/([\\d.]+)\\/([\\d.]+)$/.exec(map)\n    if (m !== null) {\n      this.s.zoom = parseFloat(m[1])\n      this.s.lng = parseFloat(m[2])\n      this.s.lat = parseFloat(m[3])\n    }\n  }\n\n  dumps () {\n    if (fields.some(f => typeof this.s[f] === 'undefined')) {\n      return ''\n    }\n    return `#map=${this.s.zoom?.toFixed(2)}/${this.s.lng}/${this.s.lat}`\n  }\n\n  defineGetterSetter (key: keyof PermaLinkState) {\n    return (...args: number[]) => {\n      if (args.length > 0) {\n        this.s[key] = args[0]\n      }\n      return this.s[key]\n    }\n  }\n\n  lng = this.defineGetterSetter('lng')\n  lat = this.defineGetterSetter('lat')\n  zoom = this.defineGetterSetter('zoom')\n}()\n\nexport async function moveToSharedFactory (mapController: MapFactoryController, location: Location, cb: (factoryId: string) => void) {\n  const { factoryId, ...others } = parseHashParams(location.hash)\n\n  if (!factoryId) {\n    return\n  }\n\n  const factoryData = await getFactory(factoryId)\n\n  if (!factoryData) {\n    return\n  }\n\n  mapController.addFactories([factoryData])\n\n  mapController.mapInstance.setCoordinate(factoryData.lng, factoryData.lat)\n\n  location.hash = stringifyHash(others)\n\n  cb(factoryId)\n}\n","import { SetupContext } from '@vue/composition-api'\n\nexport const sleep = (ms: number) => new Promise(resolve => window.setTimeout(resolve, ms))\n\nexport const waitNextTick = (context: SetupContext) => new Promise(resolve => context.root.$nextTick(resolve))\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, onMounted, onUnmounted, ref, inject } from '@vue/composition-api'\nimport debounce from 'lodash.debounce'\n\nimport AppButton from '@/components/AppButton.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppTextField from '@/components/AppTextField.vue'\nimport DisplaySettingBottomSheet from '@/components/DisplaySettingBottomSheet.vue'\n\nimport { initializeMap, MapFactoryController, getFactoryStatus } from '../lib/map'\nimport { getFactories } from '../api'\nimport { MainMapControllerSymbol } from '../symbols'\nimport { Feature, Overlay } from 'ol'\nimport Point from 'ol/geom/Point'\nimport OverlayPositioning from 'ol/OverlayPositioning'\nimport { defaultFactoryDisplayStatuses, FactoryDisplayStatusType, getDisplayStatusColor, getDisplayStatusText } from '../types'\nimport { useGA } from '@/lib/useGA'\nimport { useModalState } from '../lib/hooks'\nimport { useAppState } from '../lib/appState'\nimport { useAlertState } from '../lib/useAlert'\nimport { moveToSharedFactory, permalink } from '../lib/permalink'\nimport { waitNextTick } from '../lib/utils'\n\nexport default createComponent({\n  components: {\n    AppButton,\n    AppNavbar,\n    AppTextField,\n    DisplaySettingBottomSheet\n  },\n  props: {\n    setFactoryLocation: {\n      type: Function,\n      required: true\n    }\n  },\n  setup (props, context) {\n    const { event } = useGA()\n    const root = ref<HTMLElement>(null)\n    const popup = ref<HTMLDivElement>(null)\n    const mapControllerRef = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n\n    const [, modalActions] = useModalState()\n    const [appState, { openEditFactoryForm, pageTransition, expandFactoryDetail }] = useAppState()\n    const [, alertActions] = useAlertState()\n\n    const openFactoryDetail = (feature: Feature) => {\n      if (!mapControllerRef.value) return\n\n      const factoryId = feature.get('factoryId') as string\n      const factory = mapControllerRef.value.getFactory(factoryId)\n\n      if (factory) {\n        factory.feature = feature\n        appState.factoryData = factory\n      }\n    }\n\n    const resizeMap = function () {\n      if (mapControllerRef.value) {\n        mapControllerRef.value.mapInstance.map.updateSize()\n      }\n    }\n\n    const onClickEditFactoryData = () => {\n      if (!appState.factoryData) {\n        return\n      }\n\n      openEditFactoryForm(appState.factoryData)\n    }\n\n    onMounted(() => {\n      const popupOverlay = new Overlay({\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        element: popup.value!,\n        positioning: OverlayPositioning.BOTTOM_LEFT\n      })\n\n      const onClickFactoryFeature = async (_: [number, number], feature?: Feature) => {\n        // unset active factory data style\n        if (appState.factoryData?.feature?.get('defaultStyle')) {\n          appState.factoryData?.feature?.setStyle(appState.factoryData?.feature?.get('defaultStyle'))\n        }\n\n        if (feature) {\n          event('clickFactoryPin')\n          if (feature.get('factoryId')) {\n            openFactoryDetail(feature)\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if ((context.root as any).$vuetify.breakpoint.mdAndUp) {\n              expandFactoryDetail()\n            }\n          } else {\n            // eslint-disable-next-line\n            // @ts-ignore\n            const p: Point = feature.getGeometry()\n            // eslint-disable-next-line\n            // @ts-ignore\n            const c: Coordinate = p.getCoordinates()\n            mapControllerRef?.value?.mapInstance?.map?.getView().setCenter(c)\n            const zoom = mapControllerRef?.value?.mapInstance?.map?.getView().getZoom()\n            mapControllerRef?.value?.mapInstance?.map?.getView().setZoom((zoom || 0) + 1)\n          }\n        } else {\n          appState.factoryData = null\n        }\n\n        // Workaround map resizing issue\n        await waitNextTick(context)\n        resizeMap()\n      }\n\n      let mapController: MapFactoryController | null = null\n\n      const loadNewFactories = debounce(async function (range: number, longitude: number, latitude: number) {\n        const factories = await getFactories(range, longitude, latitude)\n        if (Array.isArray(factories)) {\n          mapController!.addFactories(factories)\n        }\n      }, 500)\n\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      mapController = initializeMap(root.value!, {\n        onMoved: async function ([longitude, latitude, range, zoom], canPlaceFactory) {\n          permalink.lat(latitude)\n          permalink.lng(longitude)\n          permalink.zoom(zoom)\n          window.location.hash = permalink.dumps()\n\n          appState.canPlaceFactory = canPlaceFactory\n          appState.mapLngLat = [longitude, latitude]\n\n          event('moveMap')\n          try {\n            await loadNewFactories(range, longitude, latitude)\n          } catch (e) {\n            // TODO: handle here\n          }\n        }, // TODO: do on start move to lock selection\n        onClicked: onClickFactoryFeature,\n        onZoomed: function (zoom) {\n          permalink.zoom(zoom)\n          window.location.hash = permalink.dumps()\n        }\n      }, {\n        getInitialLocation: function () {\n          permalink.load(window.location)\n\n          if (permalink.dumps() !== '') {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return [permalink.lng()!, permalink.lat()!, permalink.zoom()!]\n          }\n        }\n      })\n\n      moveToSharedFactory(mapController, window.location, (factoryId) => {\n        const factory = mapControllerRef?.value?.getFactory(factoryId)\n        if (factory) {\n          const feature = mapController!.getFactoriesLayerForStatus(getFactoryStatus(factory)).getFeatureById(factoryId)\n          // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n          onClickFactoryFeature([0, 0], feature as Feature)\n        }\n      })\n\n      mapController.mapInstance.map.addOverlay(popupOverlay)\n      mapControllerRef.value = mapController\n\n      mapController.mapInstance.setLUILayerVisible(false)\n    })\n\n    onMounted(() => {\n      window.addEventListener('resize', resizeMap)\n    })\n\n    onUnmounted(() => {\n      window.removeEventListener('resize', resizeMap)\n    })\n\n    function onClickCreateFactoryButton () {\n      if (!mapControllerRef.value) return\n\n      mapControllerRef.value.mapInstance.setLUILayerVisible(true)\n\n      pageTransition.startCreateFactory()\n    }\n\n    const appliedFilters = ref<FactoryDisplayStatusType[]>(defaultFactoryDisplayStatuses)\n    const checkActive = (status: FactoryDisplayStatusType) => appliedFilters.value.includes(status)\n\n    const onClickFilterButton = (status: FactoryDisplayStatusType) => {\n      if (!mapControllerRef.value) {\n        return\n      }\n\n      if (checkActive(status)) {\n        appliedFilters.value = appliedFilters.value.filter(f => f !== status)\n      } else {\n        appliedFilters.value = [\n          ...appliedFilters.value,\n          status\n        ]\n      }\n\n      mapControllerRef.value.mapInstance.map.getLayers().forEach((layer) => {\n        const factoryStatus = layer.get('factoryStatus')\n        if (factoryStatus === undefined) return\n        const comparableFactoryStatus = factoryStatus === 'default' ? factoryStatus : Number(factoryStatus)\n        if (!appliedFilters.value.includes(comparableFactoryStatus)) {\n          layer.setVisible(false)\n        } else {\n          layer.setVisible(true)\n        }\n      })\n    }\n\n    const filterButtonsData = defaultFactoryDisplayStatuses.map(v => ({\n      text: getDisplayStatusText(v),\n      color: getDisplayStatusColor(v),\n      value: v,\n      name: v\n    }))\n\n    return {\n      root,\n      modalActions,\n      popup,\n      zoomToGeolocation: function () {\n        if (mapControllerRef.value) {\n          event('zoomToGeolocation')\n          try {\n            mapControllerRef.value.mapInstance.zoomToGeolocation()\n          } catch (err) {\n            alertActions.showAlert('您沒開放手機定位權限， \\n請開放定位權限以用定位功能。')\n          }\n        }\n      },\n      appState,\n      onClickEditFactoryData,\n      onClickCreateFactoryButton,\n      onClickFilterButton,\n      filterButtonsData,\n      checkActive,\n      appliedFilters\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Map.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Map.vue?vue&type=template&id=6845ec70&scoped=true&\"\nimport script from \"./Map.vue?vue&type=script&lang=ts&\"\nexport * from \"./Map.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Map.vue?vue&type=style&index=0&id=6845ec70&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6845ec70\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{ base: true, open: _vm.value },attrs:{\"data-label\":\"sidebar-close\"},on:{\"click\":_vm.close}},[_c('div',{class:{ sidebar: true, open: _vm.value }},[_c('div',{staticClass:\"close\",attrs:{\"data-label\":\"sidebar-close\"},on:{\"click\":_vm.close}}),_c('h1',[_vm._v(\"主選單\")]),_c('hr'),_c('ul',_vm._l((_vm.links),function(link,index){return _c('li',{key:index},[_c('a',{attrs:{\"data-label\":(\"sidebar-\" + (link.text)),\"href\":_vm.getHref(link),\"target\":_vm.getTarget(link)},on:{\"click\":function($event){$event.stopPropagation();return _vm.onClick(link)}}},[_vm._v(_vm._s(link.text))])])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div :class=\"{ base: true, open: value }\" @click=\"close\" data-label=\"sidebar-close\">\n    <div :class=\"{ sidebar: true, open: value }\">\n      <div class=\"close\" @click=\"close\" data-label=\"sidebar-close\" />\n      <h1>主選單</h1>\n      <hr />\n      <ul>\n        <li v-for=\"(link,index) in links\" :key=\"index\">\n          <a @click.stop=\"onClick(link)\" :data-label=\"`sidebar-${link.text}`\" :href=\"getHref(link)\" :target=\"getTarget(link)\">{{ link.text }}</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { createComponent } from '@vue/composition-api'\nimport { useModalState } from '../lib/hooks'\n\nexport default createComponent({\n  name: 'AppSidebar',\n  props: {\n    value: {\n      type: Boolean,\n      required: true\n    }\n  },\n  setup (_, context) {\n    const [, modalActions] = useModalState()\n    const links = [\n      { text: '使用說明', action: modalActions.openTutorialModal },\n      { text: '安全須知', action: modalActions.openSafetyModal },\n      { text: '聯絡我們', action: modalActions.openContactModal },\n      { text: '常見問題', href: 'https://about.disfactory.tw/#section-f_c360c8de-447e-4c0a-a856-4af18b9a5240' },\n      { text: '關於回報系統', href: 'https://about.disfactory.tw' },\n      { text: '問題回報', href: 'https://airtable.com/shrUraKakZRpH52DO' }\n    ]\n    const close = () => {\n      context.emit('input', false)\n    }\n\n    return {\n      links,\n      close,\n      onClick: (link) => {\n        if (typeof link.action === 'function') {\n          link.action()\n        }\n      },\n      getHref: (link) => {\n        return link.href\n      },\n      getTarget: (link) => {\n        if (typeof link.href === 'string') {\n          return '_blank'\n        } else {\n          return null\n        }\n      }\n    }\n  }\n})\n</script>\n\n<style lang=\"scss\" scoped>\n@import '~@/styles/utils';\n\n.base {\n  position: fixed;\n  -webkit-overflow-scrolling: touch;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 9;\n  background-color: rgba(#000000, 0.4);\n  visibility: hidden;\n  opacity: 0;\n  transition: all 0.5s cubic-bezier(.4,0,.2,1);\n\n  .sidebar {\n    position: fixed;\n    -webkit-overflow-scrolling: touch;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    width: 90%;\n    z-index: 10;\n    max-width: 400px;\n    color: #fff;\n    background-color: #6d8538;\n    padding: 60px 30px 20px 30px;\n    transform: translateX(100%);\n    opacity: 0;\n    transition: all 0.5s cubic-bezier(.4,0,.2,1);\n\n    > * {\n      margin: 16px 0;\n    }\n\n    .close {\n      @include close-button;\n      right: unset;\n      left: 30px;\n\n      &::before, &::after {\n        z-index: 11;\n        background: #fff;\n      }\n    }\n\n    h1 {\n      font-size: 36px;\n      line-height: 1.3;\n    }\n\n    hr {\n      border: none;\n      width: 60%;\n      height: 1px;\n      background-color: #ffffff;\n    }\n\n    ul {\n      padding: 0;\n      list-style: none;\n\n      li {\n        a {\n          color: #fff;\n          font-size: 24px;\n          line-height: 2;\n          text-decoration: none;\n          cursor: pointer;\n          user-select: none;\n        }\n      }\n    }\n  }\n\n  .sidebar.open {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n.base.open {\n  visibility: visible;\n  opacity: 1;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSidebar.vue?vue&type=template&id=593c9697&scoped=true&\"\nimport script from \"./AppSidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSidebar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSidebar.vue?vue&type=style&index=0&id=593c9697&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"593c9697\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.alert)?_c('div',{staticClass:\"app-alert\"},[_c('div',{staticClass:\"close\",attrs:{\"data-label\":\"alert-close\"},on:{\"click\":_vm.dismiss}}),_c('img',{attrs:{\"src\":\"/images/alert.svg\",\"alt\":\"alert\"}}),_c('div',[_c('div',{staticClass:\"alert-title\"},[_vm._v(_vm._s(_vm.alert.title))]),_c('p',{staticClass:\"alert-descriptioin\"},[_vm._v(_vm._s(_vm.alert.dismissText))])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppAlert',\n  props: {\n    alert: {\n      type: Object\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAlert.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppAlert.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppAlert.vue?vue&type=template&id=2a0f768e&scoped=true&\"\nimport script from \"./AppAlert.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppAlert.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppAlert.vue?vue&type=style&index=0&id=2a0f768e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a0f768e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create-factory-steps\"},[_c('v-app-bar',{staticClass:\"d-block d-md-none\",attrs:{\"fixed\":\"\",\"color\":\"white\"}},[_c('div',{staticClass:\"btn-container\",class:{ hide: _vm.appState.createStepIndex === 1 }},[_c('v-btn',{staticClass:\"secondary--text\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.onBack}},[_c('v-icon',[_vm._v(\"mdi-keyboard-backspace\")])],1)],1),_c('v-spacer'),_c('v-toolbar-title',{staticClass:\"secondary--text\"},[_vm._v(\"新增可疑工廠 步驟 (\"+_vm._s(_vm.appState.createStepIndex)+\"/3)\")]),_c('v-spacer'),_c('div',{staticClass:\"btn-container\"},[_c('v-dialog',{attrs:{\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"secondary--text\",attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.discardDialog),callback:function ($$v) {_vm.discardDialog=$$v},expression:\"discardDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"secondary--text\"},[_vm._v(\"放棄新增可疑工廠嗎？\")]),_c('v-card-text',[_vm._v(\"放棄新增可疑工廠時，你將遺失所有已輸入的資料。下次需重新填寫。\")]),_c('v-container',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"width\":\"100%\",\"x-large\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.discardDialog = false}}},[_vm._v(\"繼續填寫資料\")]),_c('a',{staticClass:\"d-block mt-4 text-decoration-underline\",on:{\"click\":_vm.cancelCreateFactory}},[_vm._v(\"放棄新增\")])],1)],1)],1)],1)],1),_c('v-app-bar',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$vuetify.breakpoint.mdAndUp),expression:\"$vuetify.breakpoint.mdAndUp\"}],attrs:{\"fixed\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',[_vm._v(\"新增可疑工廠\")]),_c('div',{staticClass:\"ml-15 desktop-step-item\",on:{\"click\":function($event){return _vm.switchStep(1)}}},[_c('span',[_vm._v(\"選擇工廠位置\")]),_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-chevron-right\")])],1),_c('div',{staticClass:\"desktop-step-item\",class:{ inactive: _vm.appState.createStepIndex < 2 },on:{\"click\":function($event){return _vm.switchStep(2)}}},[_c('span',[_vm._v(\"上傳工廠照片\")]),_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-chevron-right\")])],1),_c('div',{staticClass:\"desktop-step-item\",class:{ inactive: _vm.appState.createStepIndex < 3 },on:{\"click\":function($event){return _vm.switchStep(3)}}},[_c('span',[_vm._v(\"確認及補充工廠資訊\")])]),_c('v-spacer'),(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-dialog',{attrs:{\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"outlined\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 取消新增 \")])]}}],null,false,67231085),model:{value:(_vm.discardDialog),callback:function ($$v) {_vm.discardDialog=$$v},expression:\"discardDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"secondary--text\"},[_vm._v(\"放棄新增可疑工廠嗎？\")]),_c('v-card-text',[_vm._v(\"放棄新增可疑工廠時，你將遺失所有已輸入的資料。下次需重新填寫。\")]),_c('v-container',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"width\":\"100%\",\"x-large\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.discardDialog = false}}},[_vm._v(\"繼續填寫資料\")]),_c('a',{staticClass:\"d-block mt-4 text-decoration-underline\",on:{\"click\":_vm.cancelCreateFactory}},[_vm._v(\"放棄新增\")])],1)],1)],1):_vm._e()],1),(_vm.appState.createStepIndex === 1)?_c('div',{staticClass:\"create-factory-step-1\"},[(_vm.showLongLat)?_c('div',{staticClass:\"select-location-container container-fluid pa-3 py-md-5 px-md-10\",class:{ desktop: _vm.$vuetify.breakpoint.mdAndUp }},[_c('div',{staticClass:\"d-flex flex-md-row justify-space-between align-end align-md-center\"},[_c('div',{staticClass:\"d-flex flex-column flex-md-row align-start align-md-center justify-space-between justify-md-start flex-grow-1\"},[_c('p',{staticClass:\"mb-4 my-md-3 mr-md-10 wgs\"},[_vm._v(\"以下經緯度版本為WGS84\")]),(!_vm.inlineLocationForm)?_c('p',{staticClass:\"font-weight-medium h5 mb-0 mb-1-md mr-md-10 location-text\"},[_vm._v(\" 經度：\"+_vm._s(_vm.appState.mapLngLat[0].toFixed(7))+\" \")]):_vm._e(),(!_vm.inlineLocationForm)?_c('p',{staticClass:\"font-weight-medium h5 mb-0 mr-md-8 location-text\"},[_vm._v(\" 緯度：\"+_vm._s(_vm.appState.mapLngLat[1].toFixed(7))+\" \")]):_vm._e(),(!_vm.inlineLocationForm)?_c('v-btn',{staticClass:\"mr-2 d-none d-md-block primary--text\",attrs:{\"rounded\":\"\",\"color\":\"white\"},on:{\"click\":_vm.toggleInlineLocationForm}},[_vm._v(\" 搜尋經緯度 \")]):_vm._e(),(_vm.inlineLocationForm)?_c('div',{staticClass:\"d-none d-md-flex justify-space-between align-center flex-grow-1\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('p',{staticClass:\"font-weight-medium h5 mb-0  mr-7\"},[_vm._v(\" 搜尋經緯度 \")]),_c('div',{staticClass:\"d-block  mr-7\",staticStyle:{\"height\":\"36px\",\"width\":\"1px\",\"background-color\":\"#EAF3BF\"}}),_c('h5',{staticClass:\" mr-2\"},[_vm._v(\"經度\")]),_c('v-text-field',{staticClass:\" mr-7\",attrs:{\"hide-details\":\"\",\"outilned\":\"\",\"solo\":\"\",\"placeholder\":\"例：121.5231872\",\"dense\":\"\"},model:{value:(_vm.locationInputState.longitude),callback:function ($$v) {_vm.$set(_vm.locationInputState, \"longitude\", $$v)},expression:\"locationInputState.longitude\"}}),_c('h5',{staticClass:\" mr-2\"},[_vm._v(\"緯度\")]),_c('v-text-field',{staticClass:\" mr-7\",attrs:{\"hide-details\":\"\",\"outilned\":\"\",\"solo\":\"\",\"placeholder\":\"例：25.0458344\",\"dense\":\"\"},model:{value:(_vm.locationInputState.latitude),callback:function ($$v) {_vm.$set(_vm.locationInputState, \"latitude\", $$v)},expression:\"locationInputState.latitude\"}}),_c('h5',{staticClass:\"text-decoration-underline mr-5\",staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.clearLocationInput}},[_vm._v(\"清空\")]),_c('v-btn',{staticClass:\"primary--text\",attrs:{\"rounded\":\"\",\"color\":\"white\"},on:{\"click\":_vm.setLocation}},[_vm._v(\"定位\")])],1),(_vm.inlineLocationForm)?_c('div',{staticClass:\"d-flex align-center\"},[_c('div',{staticClass:\"d-block d-none d-md-block mx-7\",staticStyle:{\"height\":\"36px\",\"width\":\"1px\",\"background-color\":\"#EAF3BF\"}}),_c('v-btn',{staticClass:\"primary--text\",attrs:{\"icon\":\"\"},on:{\"click\":_vm.toggleInlineLocationForm}},[_c('v-icon',{attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-close\")])],1)],1):_vm._e()]):_vm._e()],1),_c('v-dialog',{attrs:{\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2 d-md-none primary--text\",attrs:{\"rounded\":\"\",\"color\":\"white\"}},'v-btn',attrs,false),on),[_vm._v(\" 搜尋經緯度 \")])]}}],null,false,1129603853),model:{value:(_vm.chooseLocationDialog),callback:function ($$v) {_vm.chooseLocationDialog=$$v},expression:\"chooseLocationDialog\"}},[_c('v-card',{staticClass:\"primary\",attrs:{\"outlined\":\"\"}},[_c('v-card-text',{staticClass:\"pt-4 white--text\"},[_c('p',[_vm._v(\" 以下經緯度版本為WGS84 \")]),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"經度\")]),_c('v-text-field',{attrs:{\"outilned\":\"\",\"solo\":\"\",\"placeholder\":\"例：121.5231872\"},model:{value:(_vm.locationInputState.longitude),callback:function ($$v) {_vm.$set(_vm.locationInputState, \"longitude\", $$v)},expression:\"locationInputState.longitude\"}}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"緯度\")]),_c('v-text-field',{attrs:{\"outilned\":\"\",\"solo\":\"\",\"placeholder\":\"例：25.0458344\"},model:{value:(_vm.locationInputState.latitude),callback:function ($$v) {_vm.$set(_vm.locationInputState, \"latitude\", $$v)},expression:\"locationInputState.latitude\"}}),_c('div',{staticClass:\"d-flex justify-space-between mt-3 align-end\"},[_c('a',{staticClass:\"text-decoration-underline white--text\",staticStyle:{\"height\":\"36px\",\"line-height\":\"36px\"},on:{\"click\":_vm.clearLocationInput}},[_vm._v(\"清空\")]),_c('v-btn',{staticClass:\"primary--text\",attrs:{\"rounded\":\"\",\"color\":\"white\"},on:{\"click\":_vm.setLocation}},[_vm._v(\"定位\")])],1)],1)],1)],1)],1)]):_vm._e(),_c('div',{staticClass:\"px-5 py-4\"},[_c('v-btn',{staticClass:\"mr-2 primary--text\",attrs:{\"rounded\":\"\",\"color\":\"white\"},on:{\"click\":_vm.toggleShowLongLat}},[_vm._v(\" \"+_vm._s(_vm.showLongLat ? '隱藏經緯度' : '顯示經緯度')+\" \")]),_c('switch-map-mode-button'),_c('v-container',{staticClass:\"choose-location-btn-container d-flex justify-center\",attrs:{\"fluid\":\"\",\"bottom\":\"50\"}},[_c('v-btn',{staticClass:\"px-md-15\",attrs:{\"x-large\":\"\",\"rounded\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.chooseLocation}},[_vm._v(\" 選擇此地點 \")])],1)],1)]):_vm._e(),(_vm.appState.createStepIndex === 2)?_c('image-upload-form',{attrs:{\"uploading\":_vm.imageUploadState.uploading,\"error\":_vm.imageUploadState.error,\"previewImages\":_vm.uploadedImages,\"onClickRemoveImage\":_vm.onClickRemoveImage,\"valid\":_vm.imageUploadFormValid,\"submit\":_vm.pageTransition.gotoNextCreate,\"formState\":_vm.formState},model:{value:(_vm.selectedImages),callback:function ($$v) {_vm.selectedImages=$$v},expression:\"selectedImages\"}}):_vm._e(),(_vm.appState.createStepIndex === 3)?_c('confirm-factory',{attrs:{\"formState\":_vm.formState,\"previewImages\":_vm.uploadedImages,\"submit\":_vm.submitFactory}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { UploadedImage, uploadImages } from '@/api'\nimport { computed, reactive, ref, watch } from '@vue/composition-api'\n\nexport const useImageUpload = () => {\n  const uploadedImages = ref<UploadedImage[]>([])\n  const imageUploadState = reactive({\n    error: null as boolean | null,\n    uploading: false\n  })\n\n  const selectedImages = ref<FileList>(null)\n  watch(selectedImages, () => {\n    imageUploadState.error = null\n\n    if (!selectedImages.value) {\n      return\n    }\n\n    imageUploadState.uploading = true\n\n    uploadImages(selectedImages.value).then(images => {\n      uploadedImages.value = [\n        ...uploadedImages.value,\n        ...images\n      ]\n    }).catch(err => {\n      console.error(err)\n      imageUploadState.error = true\n    }).finally(() => {\n      imageUploadState.uploading = false\n    })\n  })\n\n  const onClickRemoveImage = ({ src }: UploadedImage) => {\n    uploadedImages.value = uploadedImages.value.filter(image => image.src !== src)\n  }\n\n  const imageUploadFormValid = computed(() => uploadedImages.value.length > 0 && !imageUploadState.uploading)\n\n  return {\n    selectedImages,\n    imageUploadState,\n    uploadedImages,\n    onClickRemoveImage,\n    imageUploadFormValid\n  }\n}\n\nexport const useUpdateFactoryImage = () => {\n  const uploadedImages = ref<UploadedImage[]>([])\n  const imageUploadState = {\n    error: null,\n    uploading: false\n  }\n\n  const selectedImages = ref<FileList>(null)\n  watch(selectedImages, () => {\n    if (!selectedImages.value) {\n      return\n    }\n\n    const images = Array.from(selectedImages.value).map(f => URL.createObjectURL(f)).map(v => ({\n      src: v,\n      token: v\n    }))\n\n    uploadedImages.value = [\n      ...uploadedImages.value,\n      ...images\n    ]\n  })\n\n  const onClickRemoveImage = ({ src }: UploadedImage) => {\n    uploadedImages.value = uploadedImages.value.filter(image => image.src !== src)\n  }\n\n  const imageUploadFormValid = computed(() => uploadedImages.value.length > 0)\n\n  return {\n    selectedImages,\n    imageUploadState,\n    uploadedImages,\n    onClickRemoveImage,\n    imageUploadFormValid\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"image-upload-form w-100\"},[_c('v-container',{staticClass:\"pt-3 pt-md-12 pb-md-8\",staticStyle:{\"max-width\":\"630px\",\"position\":\"relative\"}},[_c('h2',{staticClass:\"mb-4 secondary--text\"},[_vm._v(\"上傳工廠照片\")]),_c('p',[_vm._v(\"請至少上傳一張工廠照片。\")]),_c('h3',{staticClass:\"mb-3 mt-7 primary--text required\"},[_vm._v(\"工廠照片\")]),_c('div',{staticClass:\"flex align-items-center mb-3\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"disabled\":_vm.uploading,\"outlined\":\"\"}},[_c('label',[_c('input',{ref:\"image\",staticStyle:{\"display\":\"none\"},attrs:{\"multiple\":\"\",\"type\":\"file\",\"accept\":\"image/*\",\"disabled\":_vm.uploading},on:{\"change\":_vm.onChange}}),_vm._v(\" 新增照片 \")])]),(_vm.uploading && !_vm.disableProgressiveUpload)?_c('span',[_vm._v(\"上傳中...\")]):_vm._e(),(_vm.valid && !_vm.uploading && !_vm.error && !_vm.disableProgressiveUpload)?_c('span',[_vm._v(\" 上傳成功 \"),_c('v-icon',{staticClass:\"primary--text\"},[_vm._v(\"mdi-checkbox-marked-circle\")])],1):_vm._e(),(_vm.error && !_vm.disableProgressiveUpload)?_c('span',[_vm._v(\"上傳錯誤\")]):_vm._e()],1),_c('div',{staticClass:\"preview-images-container mb-2\"},_vm._l((_vm.previewImages),function(image){return _c('div',{key:image.token,staticClass:\"uploaded-image\"},[_c('img',{attrs:{\"src\":image.src}}),_c('button',{staticClass:\"remove-image-btn\",on:{\"click\":function($event){return _vm.removeImage(image)}}})])}),0),_c('hr'),_c('h2',{staticClass:\"mt-7 mb-2 secondary--text\"},[_vm._v(\"聯絡資訊（非必填）\")]),_c('p',[_vm._v(\" 如果對於照片有疑問，\"),_c('br'),_vm._v(\" 我們會透過以下提供的資訊聯絡你。\"),_c('br'),_vm._v(\" 如不願揭露自己身份，可跳過不填。 \")]),_c('h3',{staticClass:\"primary--text mt-7 mb-2\"},[_vm._v(\"聯絡人暱稱\")]),_c('v-text-field',{attrs:{\"outlined\":\"\",\"placeholder\":\"例：林先生、林小姐\"},model:{value:(_vm.formState.nickname),callback:function ($$v) {_vm.$set(_vm.formState, \"nickname\", $$v)},expression:\"formState.nickname\"}}),_c('h3',{staticClass:\"primary--text mt-7 mb-2\"},[_vm._v(\"聯絡方式 (email或電話)\")]),_c('v-text-field',{attrs:{\"outlined\":\"\",\"placeholder\":\"例：abc@email.com、0920-123456\"},model:{value:(_vm.formState.contact),callback:function ($$v) {_vm.$set(_vm.formState, \"contact\", $$v)},expression:\"formState.contact\"}}),_c('div',{staticClass:\"bottom-button-container w-100 d-flex justify-center align-items-center px-xs-3 pb-md-9\"},[_c('v-btn',{staticStyle:{\"width\":\"100%\",\"max-width\":\"345px\"},attrs:{\"x-large\":\"\",\"rounded\":\"\",\"disabled\":!_vm.valid,\"color\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\" \"+_vm._s(_vm.submitText || '下一步')+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\nimport { UploadedImage } from '../api'\nexport default createComponent({\n  props: {\n    previewImages: {\n      type: Array,\n      default: []\n    },\n    uploading: {\n      default: false\n    },\n    error: {\n      default: null\n    },\n    onClickRemoveImage: {\n      type: Function\n    },\n    submit: {\n      type: Function\n    },\n    valid: {\n      type: Boolean,\n      default: false\n    },\n    formState: {\n      type: Object\n    },\n    submitText: {\n      type: String\n    },\n    disableProgressiveUpload: {\n      type: Boolean,\n      default: false\n    }\n  },\n  name: 'ImageUploadForm',\n  setup (props, context) {\n    return {\n      images: [],\n      onChange: function (e: InputEvent) {\n        context.emit('input', (e.target as HTMLInputElement).files)\n      },\n      onSubmit () {\n        if (props.valid && typeof props.submit === 'function') {\n          props.submit()\n        }\n      },\n      removeImage: (image: UploadedImage) => {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        props.onClickRemoveImage!(image)\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadForm.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadForm.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImageUploadForm.vue?vue&type=template&id=9c1898e4&scoped=true&\"\nimport script from \"./ImageUploadForm.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImageUploadForm.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ImageUploadForm.vue?vue&type=style&index=0&id=9c1898e4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9c1898e4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VIcon,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"confirm-factory-page\"},[_c('v-container',{staticClass:\"pt-3 pt-md-12\",staticStyle:{\"max-width\":\"630px\",\"position\":\"relative\"}},[_c('h2',{staticClass:\"mt-2 mb-2 secondary--text\"},[_vm._v(\"確認及補充工廠資訊\")]),_c('p',[_vm._v(\"請確認工廠地點及照片，並補充工廠資訊。\")]),_c('h3',{staticClass:\"mt-7 mb-2 required primary--text\"},[_vm._v(\"工廠地點\")]),_c('p',[_vm._v(\" 返回\"),_c('a',{on:{\"click\":_vm.gotoStepOne}},[_vm._v(\"步驟(1/3)\")]),_vm._v(\"編輯 \")]),_c('div',{staticClass:\"d-flex flex-column flex-md-row justify-md-between\"},[_c('div',{staticClass:\"w-100 minimap-container\",class:{ desktop: _vm.$vuetify.breakpoint.mdAndUp },staticStyle:{\"position\":\"relative\"}},[_c('minimap',{attrs:{\"initialFactories\":_vm.initialFactories,\"initialLocation\":_vm.initialLocation,\"pinLocation\":_vm.appState.factoryLocation}}),_c('div',{staticClass:\"minimap-overlay\",on:{\"click\":_vm.gotoStepOne}})],1),_c('div',{staticClass:\"d-flex justify-between mt-3 mt-md-0 ml-md-4 d-md-inline-flex flex-md-column justify-md-start\"},[_c('p',[_vm._v(\" 經度：\"+_vm._s(_vm.appState.factoryLocation[0].toFixed(7))+\" \"),_c('br'),_vm._v(\" 緯度：\"+_vm._s(_vm.appState.factoryLocation[1].toFixed(7))+\" \")]),_c('p',[_c('small',[_vm._v(\"以上經緯度版本為WGS84\")])])])]),_c('h3',{staticClass:\"mt-7 mb-2 required primary--text\"},[_vm._v(\"工廠照片\")]),_c('p',[_vm._v(\" 返回\"),_c('a',{on:{\"click\":_vm.gotoStepTwo}},[_vm._v(\"步驟(2/3)\")]),_vm._v(\"編輯 \")]),_c('div',{staticClass:\"preview-images-container mb-2\"},_vm._l((_vm.previewImages),function(image){return _c('div',{key:image.token,staticClass:\"uploaded-image\"},[_c('img',{attrs:{\"src\":image.src}})])}),0),_c('h3',{staticClass:\"mt-5 mb-2 primary--text\"},[_vm._v(\"聯絡人暱稱\")]),_c('p',[_vm._v(_vm._s(_vm.formState.nickname || '未填寫'))]),_c('h3',{staticClass:\"mt-5 mb-2 primary--text\"},[_vm._v(\"聯絡方式 (email或電話)\")]),_c('p',[_vm._v(_vm._s(_vm.formState.contact || '未填寫'))]),_c('hr'),_c('h2',{staticClass:\"mt-5 secondary--text mb-5\"},[_vm._v(\"其他工廠資訊（非必填）\")]),_c('p',[_vm._v(\"提供明確的工廠資訊能夠幫助我們更快速的填寫公文。\")]),_c('h3',{staticClass:\"mt-5 mb-2 primary--text\"},[_vm._v(\"工廠描述\")]),_c('v-textarea',{attrs:{\"outlined\":\"\",\"solo\":\"\",\"placeholder\":\"例：常常散發異味\"},model:{value:(_vm.formState.others),callback:function ($$v) {_vm.$set(_vm.formState, \"others\", $$v)},expression:\"formState.others\"}}),_c('h3',{staticClass:\"mt-5 mb-2 primary--text\"},[_vm._v(\"工廠外部文字\")]),_c('v-text-field',{attrs:{\"outlined\":\"\",\"placeholder\":\"例：小明化工廠\",\"color\":\"primary\"},model:{value:(_vm.formState.name),callback:function ($$v) {_vm.$set(_vm.formState, \"name\", $$v)},expression:\"formState.name\"}}),_c('h3',{staticClass:\"mt-5 mb-2 primary--text\"},[_vm._v(\"工廠類型\")]),_c('v-select',{attrs:{\"items\":_vm.factoryTypeItems,\"solo\":\"\",\"outlined\":\"\",\"placeholder\":\"未選擇\"},model:{value:(_vm.formState.type),callback:function ($$v) {_vm.$set(_vm.formState, \"type\", $$v)},expression:\"formState.type\"}}),_c('div',{staticClass:\"bottom-button-container w-100 d-flex justify-center align-items-center px-xs-3 pb-md-9\"},[_c('v-btn',_vm._g(_vm._b({staticStyle:{\"width\":\"100%\",\"max-width\":\"345px\"},attrs:{\"x-large\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":_vm.submit}},'v-btn',_vm.attrs,false),_vm.on),[_vm._v(\" 確認送出 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"minimap\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { createComponent, onMounted, ref } from '@vue/composition-api'\nimport { initializeMinimap } from '../lib/map'\nimport { FactoryData } from '../types'\n\nexport default createComponent({\n  props: {\n    initialLocation: {\n      type: Array,\n      default: []\n    },\n    pinLocation: {\n      type: Array,\n      default: []\n    },\n    initialFactories: {\n      type: Array,\n      default: []\n    }\n  },\n  name: 'Minimap',\n  setup (props) {\n    const minimap = ref<HTMLElement>(null)\n\n    onMounted(() => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      const minimapController = initializeMinimap(minimap.value!, props.initialLocation as number[])\n      minimapController.addFactories(props.initialFactories as FactoryData[])\n\n      minimapController.mapInstance.setMinimapPin(...props.pinLocation as [number, number])\n    })\n\n    return {\n      minimap\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Minimap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Minimap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Minimap.vue?vue&type=template&id=164e0036&\"\nimport script from \"./Minimap.vue?vue&type=script&lang=ts&\"\nexport * from \"./Minimap.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, inject, ref } from '@vue/composition-api'\n\nimport { MainMapControllerSymbol } from '../symbols'\nimport { MapFactoryController } from '../lib/map'\nimport { useAppState } from '../lib/appState'\nimport { FACTORY_TYPE } from '../types'\n\nimport Minimap from './Minimap.vue'\n\nexport default createComponent({\n  name: 'ConfirmFactory',\n  components: {\n    Minimap\n  },\n  props: {\n    formState: {\n      type: Object,\n      default: {}\n    },\n    previewImages: {\n      type: Array,\n      default: []\n    },\n    submit: {\n      type: Function\n    }\n  },\n  setup () {\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n    const [appState, { pageTransition }] = useAppState()\n\n    const initialFactories = mapController.value?.factories\n    const initialLocation = mapController.value?.mapInstance.map.getView().getCenter()\n\n    const factoryTypeItems: Array<{ text: string, value?: string }> = [\n      ...FACTORY_TYPE\n    ]\n\n    return {\n      appState,\n      initialFactories,\n      initialLocation,\n      gotoStepOne () {\n        if (mapController.value) {\n          pageTransition.gotoCreateStep(0)\n          mapController.value.mapInstance.setLUILayerVisible(true)\n        }\n      },\n      gotoStepTwo () {\n        pageTransition.gotoCreateStep(1)\n      },\n      factoryTypeItems\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmFactory.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmFactory.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmFactory.vue?vue&type=template&id=5329eab6&scoped=true&\"\nimport script from \"./ConfirmFactory.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmFactory.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmFactory.vue?vue&type=style&index=0&id=5329eab6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5329eab6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VContainer,VSelect,VTextField,VTextarea})\n","import { onUnmounted } from '@vue/composition-api'\n\nexport function useBackPressed (onBack: () => void) {\n  const hideModal = (event: PopStateEvent) => {\n    if (event.state === 'backPressed') {\n      onBack()\n    }\n  }\n\n  window.history.pushState('backPressed', '', null)\n  window.history.pushState('dummy', '', null)\n  window.addEventListener('popstate', hideModal, { once: true })\n\n  onUnmounted(() => {\n    window.removeEventListener('popstate', hideModal)\n  })\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, inject, ref, reactive } from '@vue/composition-api'\n\nimport { useAppState } from '../lib/appState'\nimport { useAlertState } from '../lib/useAlert'\n\nimport { MainMapControllerSymbol } from '../symbols'\nimport { MapFactoryController } from '../lib/map'\nimport { createFactory } from '../api'\nimport { useImageUpload } from '../lib/imageUpload'\n\nimport ImageUploadForm from './ImageUploadForm.vue'\nimport ConfirmFactory from './ConfirmFactory.vue'\nimport SwitchMapModeButton from './SwitchMapModeButton.vue'\nimport { FactoryPostData } from '../types'\nimport { useGA } from '../lib/useGA'\nimport { useBackPressed } from '../lib/useBackPressed'\nimport { useModalState } from '../lib/hooks'\n\nexport default createComponent({\n  name: 'CreateFactorySteps',\n  components: {\n    ImageUploadForm,\n    ConfirmFactory,\n    SwitchMapModeButton\n  },\n  setup () {\n    const [appState, { pageTransition, setFactoryLocation }] = useAppState()\n    const [, { openCreateFactorySuccessModal }] = useModalState()\n    const [, alertActions] = useAlertState()\n    const { event } = useGA()\n\n    const discardDialog = ref(false)\n\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n\n    function cancelCreateFactory () {\n      if (mapController.value) {\n        mapController.value.mapInstance.setLUILayerVisible(false)\n        discardDialog.value = false\n        // TODO: clear form value\n        pageTransition.closeFactoryPage()\n      }\n    }\n\n    const onBack = () => {\n      if (appState.createStepIndex === 1) {\n        cancelCreateFactory()\n      } else if (appState.createStepIndex === 2) {\n        if (mapController.value) {\n          mapController.value.mapInstance.setLUILayerVisible(true)\n          pageTransition.previousCreateStep()\n        }\n      } else {\n        pageTransition.previousCreateStep()\n      }\n    }\n    useBackPressed(onBack)\n\n    const createFactoryFormState = reactive({\n      nickname: '',\n      contact: '',\n      others: '',\n      name: '',\n      type: undefined,\n      submitting: false\n    })\n\n    const {\n      selectedImages,\n      imageUploadState,\n      uploadedImages,\n      onClickRemoveImage,\n      imageUploadFormValid\n    } = useImageUpload()\n\n    const submitFactory = async () => {\n      createFactoryFormState.submitting = true\n\n      try {\n        const [lng, lat]: number[] = appState.factoryLocation\n        const factory: FactoryPostData = {\n          name: createFactoryFormState.name,\n          others: createFactoryFormState.others,\n          type: createFactoryFormState.type,\n          lng,\n          lat,\n          images: uploadedImages.value.map(i => i.token),\n          nickname: createFactoryFormState.nickname,\n          contact: createFactoryFormState.contact\n        }\n\n        event('createFactory', { lng, lat })\n        const resultFactory = await createFactory(factory)\n        if (mapController.value) {\n          mapController.value.addFactories([resultFactory])\n        }\n      } catch (e) {\n        // TODO: handle create failure\n      } finally {\n        createFactoryFormState.submitting = false\n      }\n\n      // TODO: if error, don't close factory page\n      pageTransition.closeFactoryPage()\n\n      openCreateFactorySuccessModal()\n    }\n\n    const showLongLat = ref(false)\n    const toggleShowLongLat = () => {\n      showLongLat.value = !showLongLat.value\n    }\n\n    const chooseLocationDialog = ref(false)\n    const inlineLocationForm = ref(false)\n    const toggleInlineLocationForm = () => {\n      inlineLocationForm.value = !inlineLocationForm.value\n    }\n    const locationInputState = reactive({\n      longitude: '',\n      latitude: ''\n    })\n    const clearLocationInput = () => {\n      locationInputState.longitude = ''\n      locationInputState.latitude = ''\n    }\n    const setLocation = () => {\n      if (!mapController.value) return\n\n      const lng = parseFloat(locationInputState.longitude)\n      const lat = parseFloat(locationInputState.latitude)\n      if (!locationInputState.longitude ||\n          !locationInputState.latitude ||\n          isNaN(lng) ||\n          isNaN(lat)\n      ) {\n        // TODO: show invalid input error\n        chooseLocationDialog.value = false\n      } else {\n        let zoom = mapController.value.mapInstance.map.getView().getZoom()\n        if (!zoom || zoom <= 17) {\n          zoom = 17\n        }\n        mapController.value.mapInstance.setCoordinate(lng, lat, zoom)\n        chooseLocationDialog.value = false\n      }\n    }\n\n    const switchStep = (num: number) => {\n      const backSteps = appState.createStepIndex - num\n\n      for (let i = 0; i < backSteps; i++) {\n        onBack()\n      }\n    }\n\n    return {\n      appState,\n      pageTransition,\n      formState: createFactoryFormState,\n\n      cancelCreateFactory,\n      onBack,\n      chooseLocation () {\n        if (!mapController.value) return\n\n        if (!appState.canPlaceFactory) {\n          alertActions.showAlert('此地點不在農地範圍內，\\n請回報在農地範圍內的工廠。')\n          return\n        }\n\n        mapController.value.mapInstance.setLUILayerVisible(false)\n\n        setFactoryLocation(appState.mapLngLat as [number, number])\n\n        pageTransition.nextCreateStep()\n      },\n      selectedImages,\n      imageUploadState,\n      uploadedImages,\n      onClickRemoveImage,\n      imageUploadFormValid,\n      discardDialog,\n      submitFactory,\n      showLongLat,\n      toggleShowLongLat,\n      chooseLocationDialog,\n      inlineLocationForm,\n      locationInputState,\n      clearLocationInput,\n      toggleInlineLocationForm,\n      setLocation,\n      switchStep\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySteps.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySteps.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateFactorySteps.vue?vue&type=template&id=ce2a7f04&scoped=true&\"\nimport script from \"./CreateFactorySteps.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateFactorySteps.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CreateFactorySteps.vue?vue&type=style&index=0&id=ce2a7f04&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ce2a7f04\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VCard,VCardText,VCardTitle,VContainer,VDialog,VIcon,VSpacer,VTextField,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"update-factory-steps\"},[_c('v-app-bar',{staticClass:\"d-block d-md-none\",attrs:{\"fixed\":\"\",\"color\":\"white\"}},[_c('v-spacer'),(_vm.appState.isEditImagesMode)?_c('v-toolbar-title',{staticClass:\"secondary--text\"},[_vm._v(\"補充照片\")]):_c('v-toolbar-title',{staticClass:\"secondary--text\"},[_vm._v(\" \"+_vm._s(_vm.updateFormAppTitle)+\" \")]),_c('v-spacer'),_c('div',{staticClass:\"btn-container\"},[_c('v-dialog',{attrs:{\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.discardDialog),callback:function ($$v) {_vm.discardDialog=$$v},expression:\"discardDialog\"}},[(_vm.appState.isEditImagesMode)?_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"補充照片尚未完成\")]),_c('v-card-text',[_vm._v(\"放棄補充照片的話，你將遺失所有未新增的資料。下次需重新上傳照片\")]),_c('v-container',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"width\":\"100%\",\"x-large\":\"\",\"rounded\":\"\",\"color\":\"green darken-1\"},on:{\"click\":function($event){_vm.discardDialog = false}}},[_vm._v(\"繼續編輯\")]),_c('a',{staticClass:\"d-block mt-4\",on:{\"click\":_vm.cancelUpdateFactoryImages}},[_vm._v(\"確定放棄\")])],1)],1):_c('v-card',[_c('v-card-title',{staticClass:\"secondary--text\"},[_vm._v(_vm._s(_vm.updateFormAppTitle)+\"尚未完成！\")]),_c('v-card-text',[_vm._v(\"放棄編輯的話，你將遺失所有未新增的資料。下次需重新填寫。\")]),_c('v-container',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"width\":\"100%\",\"x-large\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.discardDialog = false}}},[_vm._v(\"繼續編輯\")]),_c('a',{staticClass:\"d-block mt-4\",on:{\"click\":_vm.cancelUpdateFactory}},[_vm._v(\"確定放棄\")])],1)],1)],1)],1)],1),(_vm.appState.isEditImagesMode)?_c('v-app-bar',{staticClass:\"d-none d-md-block\",attrs:{\"fixed\":\"\",\"color\":\"white\"}},[_c('v-toolbar-title',{staticClass:\"secondary--text\"},[_vm._v(\"補充照片\")]),_c('v-spacer'),_c('v-dialog',{attrs:{\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"outlined\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" 取消 \")])]}}],null,false,1770517635),model:{value:(_vm.discardDialog),callback:function ($$v) {_vm.discardDialog=$$v},expression:\"discardDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"secondary--text\"},[_vm._v(\"補充照片尚未完成\")]),_c('v-card-text',[_vm._v(\"放棄補充照片的話，你將遺失所有未新增的資料。下次需重新上傳照片\")]),_c('v-container',{staticClass:\"text-center\"},[_c('v-btn',{attrs:{\"width\":\"100%\",\"x-large\":\"\",\"rounded\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.discardDialog = false}}},[_vm._v(\"繼續編輯\")]),_c('a',{staticClass:\"d-block mt-4\",on:{\"click\":_vm.cancelUpdateFactoryImages}},[_vm._v(\"確定放棄\")])],1)],1)],1)],1):_vm._e(),(_vm.appState.isEditImagesMode)?_c('image-upload-form',{attrs:{\"uploading\":_vm.imageUploadState.uploading,\"error\":_vm.imageUploadState.error,\"previewImages\":_vm.uploadedImages,\"onClickRemoveImage\":_vm.onClickRemoveImage,\"valid\":_vm.imagesValid,\"submit\":_vm.submitImageUpload,\"formState\":_vm.imageUploadFormState,\"submitText\":_vm.imageSubmitting? '照片上傳中...' : '確認新增照片',\"disableProgressiveUpload\":\"\"},model:{value:(_vm.selectedImages),callback:function ($$v) {_vm.selectedImages=$$v},expression:\"selectedImages\"}}):(_vm.$vuetify.breakpoint.smAndDown)?_c('div',{staticClass:\"update-factory-comment-container w-100 px-4 py-4 d-flex flex-column justify-between\"},[_c('div',[_c('h3',{staticClass:\"mt-4 mb-2 primary--text\"},[_vm._v(_vm._s(_vm.updateFormTitle))]),(_vm.appState.isEditComment)?_c('v-textarea',{attrs:{\"outlined\":\"\",\"solo\":\"\",\"placeholder\":\"例：常常散發異味\"},model:{value:(_vm.formState.others),callback:function ($$v) {_vm.$set(_vm.formState, \"others\", $$v)},expression:\"formState.others\"}}):_vm._e(),(_vm.appState.isEditName)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"placeholder\":\"例：小明化工廠\",\"color\":\"primary\"},model:{value:(_vm.formState.name),callback:function ($$v) {_vm.$set(_vm.formState, \"name\", $$v)},expression:\"formState.name\"}}):_vm._e(),(_vm.appState.isEditType)?_c('v-select',{attrs:{\"items\":_vm.factoryTypeItems,\"solo\":\"\",\"outlined\":\"\",\"placeholder\":\"未選擇\"},model:{value:(_vm.formState.factory_type),callback:function ($$v) {_vm.$set(_vm.formState, \"factory_type\", $$v)},expression:\"formState.factory_type\"}}):_vm._e()],1),_c('v-btn',{staticClass:\"w-100 primary\",staticStyle:{\"width\":\"100%\",\"max-width\":\"345px\",\"margin\":\"0 auto\"},attrs:{\"x-large\":\"\",\"rounded\":\"\",\"disabled\":!_vm.isCurrentFieldValid},on:{\"click\":_vm.submitUpdateFactory}},[_vm._v(\" \"+_vm._s(_vm.updateFormButton)+\" \")])],1):_vm._e(),(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"395\"},model:{value:(_vm.appState.isEditFactoryMode),callback:function ($$v) {_vm.$set(_vm.appState, \"isEditFactoryMode\", $$v)},expression:\"appState.isEditFactoryMode\"}},[_c('div',{staticClass:\"update-factory-comment-modal w-100 px-4 py-4 d-flex flex-column justify-between\"},[_c('div',{staticClass:\"d-flex justify-end\"},[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.cancelUpdateFactory}},[_c('v-icon',[_vm._v(\"mdi-close\")])],1)],1),_c('div',[_c('h3',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.updateFormTitle))]),(_vm.appState.isEditComment)?_c('v-textarea',{attrs:{\"outlined\":\"\",\"solo\":\"\",\"placeholder\":\"例：常常散發異味\"},model:{value:(_vm.formState.others),callback:function ($$v) {_vm.$set(_vm.formState, \"others\", $$v)},expression:\"formState.others\"}}):_vm._e(),(_vm.appState.isEditName)?_c('v-text-field',{attrs:{\"outlined\":\"\",\"placeholder\":\"例：小明化工廠\",\"color\":\"primary\"},model:{value:(_vm.formState.name),callback:function ($$v) {_vm.$set(_vm.formState, \"name\", $$v)},expression:\"formState.name\"}}):_vm._e(),(_vm.appState.isEditType)?_c('v-select',{attrs:{\"items\":_vm.factoryTypeItems,\"solo\":\"\",\"outlined\":\"\",\"placeholder\":\"未選擇\"},model:{value:(_vm.formState.factory_type),callback:function ($$v) {_vm.$set(_vm.formState, \"factory_type\", $$v)},expression:\"formState.factory_type\"}}):_vm._e()],1),_c('v-btn',{staticClass:\"w-100\",staticStyle:{\"width\":\"100%\",\"max-width\":\"345px\",\"margin\":\"0 auto\"},attrs:{\"x-large\":\"\",\"rounded\":\"\",\"disabled\":!_vm.isCurrentFieldValid,\"color\":\"primary\"},on:{\"click\":_vm.submitUpdateFactory}},[_vm._v(\" \"+_vm._s(_vm.updateFormButton)+\" \")])],1)]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { useUpdateFactoryImage } from '@/lib/imageUpload'\nimport { updateFactoryImages, updateFactory } from '@/api'\nimport { computed, createComponent, inject, reactive, ref } from '@vue/composition-api'\nimport { useGA } from '@/lib/useGA'\nimport { useAppState } from '../lib/appState'\nimport { useModalState } from '../lib/hooks'\nimport ImageUploadForm from './ImageUploadForm.vue'\nimport { MainMapControllerSymbol } from '@/symbols'\nimport { MapFactoryController } from '@/lib/map'\nimport { FACTORY_TYPE } from '@/types'\n\nexport default createComponent({\n  name: 'UpdateFactorySteps',\n  components: {\n    ImageUploadForm\n  },\n  setup () {\n    const [appState, { pageTransition }] = useAppState()\n    const [, modalActions] = useModalState()\n    const mapController = inject(MainMapControllerSymbol, ref<MapFactoryController>())\n    const { event } = useGA()\n\n    const {\n      selectedImages,\n      imageUploadState,\n      uploadedImages,\n      onClickRemoveImage,\n      imageUploadFormValid\n    } = useUpdateFactoryImage()\n\n    const imageUploadFormState = reactive({\n      nickname: '',\n      contact: ''\n    })\n\n    const imageSubmitting = ref(false)\n    const imagesValid = computed(() => imageUploadFormValid.value && !imageSubmitting.value)\n    const submitImageUpload = async () => {\n      if (!appState.factoryData?.id || !selectedImages.value) {\n        return\n      }\n\n      imageSubmitting.value = true\n\n      try {\n        const newImages = await updateFactoryImages(\n          appState.factoryData?.id,\n          selectedImages.value, {\n            nickname: imageUploadFormState.nickname,\n            contact: imageUploadFormState.contact\n          }\n        )\n\n        if (mapController.value) {\n          const factory = appState.factoryData\n          factory.images = factory.images.concat(newImages)\n\n          mapController.value.updateFactory(factory.id, factory)\n          appState.factoryData = factory\n        }\n\n        pageTransition.cancelUpdateFactoryImages()\n        modalActions.openUpdateFactoryImagesSuccessModal()\n      } catch (err) {\n        console.error(err)\n      }\n\n      imageSubmitting.value = false\n    }\n\n    const discardDialog = ref(false)\n\n    const cancelUpdateFactoryImages = () => {\n      discardDialog.value = false\n      pageTransition.cancelUpdateFactoryImages()\n    }\n\n    const cancelUpdateFactory = () => {\n      discardDialog.value = false\n      pageTransition.cancelUpdateFactoryComment()\n    }\n\n    const formState = reactive({\n      others: '',\n      name: appState.factoryData?.name,\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      factory_type: appState.factoryData?.type,\n      submitting: false\n    })\n\n    const factoryTypeItems: Array<{ text: string, value?: string }> = [\n      ...FACTORY_TYPE\n    ]\n\n    const validStates = {\n      others: computed(() => formState.others.length > 0 && !formState.submitting),\n      name: computed(() => formState?.name?.length && formState.name?.length > 0 && !formState.submitting),\n      // eslint-disable-next-line @typescript-eslint/camelcase\n      factory_type: computed(() => !!formState.factory_type && !formState.submitting)\n    }\n\n    const isCurrentFieldValid = computed(() => {\n      const field = appState.updateFactoryField as 'others' | 'name' | 'factory_type'\n      return validStates[field].value\n    })\n\n    const updateFormAppTitle = computed(() => {\n      return appState.isEditComment ? '補充工廠描述'\n        : appState.isEditName ? '更改外部文字' : '更改工廠類型'\n    })\n\n    const updateFormTitle = computed(() => {\n      if (appState.isEditComment) {\n        return '工廠描述'\n      } else if (appState.isEditName) {\n        return '工廠外部文字'\n      } else if (appState.isEditType) {\n        return '工廠類型'\n      }\n    })\n\n    const updateFormButton = computed(() => {\n      if (appState.isEditComment) {\n        return '新增工廠描述'\n      } else if (appState.isEditName) {\n        return '確認更改工廠外部文字'\n      } else if (appState.isEditType) {\n        return '確認更改工廠類型'\n      }\n    })\n\n    const submitUpdateFactory = async () => {\n      if (!appState.factoryData?.id || !isCurrentFieldValid.value) {\n        return\n      }\n\n      formState.submitting = true\n\n      try {\n        const field = appState.updateFactoryField as 'others' | 'name' | 'factory_type'\n\n        event('updateFactory', { field })\n        const factory = await updateFactory(appState.factoryData?.id, {\n          [field]: formState[field]\n        })\n\n        if (mapController.value) {\n          mapController.value.updateFactory(factory.id, factory)\n          appState.factoryData = factory\n        }\n\n        // TOOD: comments not displayed or stored in factory data for now\n\n        pageTransition.cancelUpdateFactoryComment()\n        modalActions.openUpdateFactorySuccessModal()\n      } catch (err) {}\n\n      formState.submitting = false\n    }\n\n    return {\n      appState,\n      pageTransition,\n\n      discardDialog,\n      imageUploadFormState,\n      selectedImages,\n      imageUploadState,\n      uploadedImages,\n      onClickRemoveImage,\n      imagesValid,\n      submitImageUpload,\n      cancelUpdateFactoryImages,\n      cancelUpdateFactory,\n\n      updateFormAppTitle,\n      updateFormTitle,\n      updateFormButton,\n\n      formState,\n      isCurrentFieldValid,\n      factoryTypeItems,\n\n      submitUpdateFactory,\n\n      imageSubmitting\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySteps.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySteps.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpdateFactorySteps.vue?vue&type=template&id=007ea2fd&scoped=true&\"\nimport script from \"./UpdateFactorySteps.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpdateFactorySteps.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpdateFactorySteps.vue?vue&type=style&index=0&id=007ea2fd&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"007ea2fd\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VCard,VCardText,VCardTitle,VContainer,VDialog,VIcon,VSelect,VSpacer,VTextField,VTextarea,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.appState.formPageOpen),expression:\"!appState.formPageOpen\"}],staticClass:\"factory-container\",class:{ full: _vm.full, desktop: _vm.$vuetify.breakpoint.mdAndUp, empty: !_vm.appState.factoryData },attrs:{\"elevation\":\"3\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.appState.factoryData),expression:\"appState.factoryData\"}],ref:\"factoryDetailScrollerRef\",staticClass:\"factory-detail-scroller\"},[(_vm.scrollOff)?_c('v-app-bar',{staticClass:\"d-block d-md-none\",attrs:{\"fixed\":\"\",\"color\":\"white\"}},[_c('v-spacer'),_c('v-toolbar-title',[_c('v-icon',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"color\":_vm.statusColor}},[_vm._v(\"mdi-map-marker\")]),_vm._v(_vm._s(_vm.factoryStatusText)+\" \")],1),_c('v-spacer'),_c('div',{staticClass:\"btn-container\"},[_c('v-icon',{staticClass:\"float-right\",on:{\"click\":_vm.collapseFactoryDetail}},[_vm._v(\"mdi-close\")]),_c('v-icon',{staticClass:\"float-right mr-4\",on:{\"click\":_vm.copyToClipboard}},[_vm._v(\"mdi-share-variant\")])],1),(_vm.showCopiedMessage)?_c('div',{staticClass:\"copied-message flex justify-center align-items-center\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-content-copy\")]),_vm._v(\" 已複製連結 \")],1):_vm._e()],1):_vm._e(),_c('v-card-text',[_c('div',{staticClass:\"d-flex justify-between align-items-center mb-3\"},[_c('span',{staticClass:\"factory-status-title\"},[_vm._v(\"工廠狀態\")]),(_vm.$vuetify.breakpoint.mdAndUp)?_c('v-btn',{attrs:{\"rounded\":\"\",\"outlined\":_vm.showCopiedMessage,\"color\":_vm.showCopiedMessage ? null : 'white'},on:{\"click\":_vm.copyToClipboard}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-share-variant\")]),_vm._v(\" \"+_vm._s(_vm.showCopiedMessage ? '已複製連結' : '分享工廠')+\" \")],1):_c('span',[_c('v-icon',{staticClass:\"mr-4\",on:{\"click\":_vm.copyToClipboard}},[_vm._v(\"mdi-share-variant\")]),_c('v-icon',{on:{\"click\":_vm.collapseFactoryDetail}},[_vm._v(\"mdi-close\")])],1)],1),_c('p',{staticClass:\"factory-status secondary--text mb-2\",staticStyle:{\"clear\":\"both\"}},[_c('v-icon',{staticStyle:{\"margin-bottom\":\"5px\"},attrs:{\"color\":_vm.statusColor}},[_vm._v(\"mdi-map-marker\")]),_vm._v(_vm._s(_vm.factoryStatusText)+\" \")],1),_c('p',{staticClass:\"caption mb-0\",staticStyle:{\"color\":\"#A1A1A1\"}},[_vm._v(\" 工廠編號 \"+_vm._s(_vm.factoryId)+\" \"),_c('br'),_vm._v(\" \"+_vm._s(_vm.lastUpdatedAt)+\" \")]),(_vm.showCopiedMessage && !_vm.scrollOff)?_c('div',{staticClass:\"copied-message flex justify-center align-items-center\"},[_c('v-icon',{staticClass:\"mr-1\",attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-content-copy\")]),_vm._v(\" 已複製連結 \")],1):_vm._e()]),_c('v-slide-group',{ref:\"slideGroup\",attrs:{\"show-arrows\":_vm.images > 0 ? 'desktop' : false}},[_c('v-slide-item',[_c('div',{staticClass:\"update-image-button d-flex flex-column justify-center align-items-center\",on:{\"click\":_vm.pageTransition.startUpdateFactoryImages}},[_c('v-icon',{staticClass:\"mb-1\",attrs:{\"color\":\"white\"}},[_vm._v(\"mdi-camera-plus\")]),_vm._v(\" 補充照片 \")],1)]),_vm._l((_vm.images),function(image,index){return _c('v-slide-item',{key:image.id,staticClass:\"mr-4\",class:{ 'ml-4': index === 0 },nativeOn:{\"click\":function($event){return _vm.setLightboxIndex(index)}}},[_c('ImgurFallbackImage',{attrs:{\"src\":image.url,\"className\":\"factory-slide-image\"}})],1)})],2),_c('div',{staticClass:\"mt-4 mx-3 mb-2\"},[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"地段 / 地址\")]),_c('p',{staticClass:\"mb-5\"},[_vm._v(_vm._s(_vm.factoryAddressAndLandcode))]),(_vm.full || _vm.$vuetify.breakpoint.mdAndUp)?_c('div',{staticClass:\"mb-5\"},[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"經緯度\")]),_c('p',{staticClass:\"mb-1\"},[_vm._v(_vm._s(_vm.longitude)+\", \"+_vm._s(_vm.latitude))]),_c('p',{staticClass:\"text-caption\"},[_vm._v(\"以上經緯度版本為 WGS84\")])]):_vm._e(),(_vm.source)?[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"資料來源\")]),_c('p',{staticClass:\"mb-5\"},[_vm._v(_vm._s(_vm.source))])]:_vm._e(),(_vm.full || _vm.$vuetify.breakpoint.mdAndUp)?_c('hr'):_vm._e(),(!_vm.full && !_vm.$vuetify.breakpoint.mdAndUp)?_c('v-btn',{staticClass:\"m-0 mb-0 px-0 v-btn-plain\",attrs:{\"text\":\"\",\"depressed\":\"\",\"elevation\":\"0\",\"ripple\":false,\"color\":\"#697F01\"},on:{\"click\":_vm.expandFactoryDetail}},[_vm._v(\" 顯示更多資訊 \"),_c('v-icon',[_vm._v(\"mdi-menu-down\")])],1):_vm._e(),(_vm.full || _vm.$vuetify.breakpoint.mdAndUp)?_c('div',{staticClass:\"mt-4\"},[_c('h2',{staticClass:\"mb-5\"},[_vm._v(\"其他工廠資訊\")]),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"工廠外部文字\")]),(_vm.factoryName)?_c('p',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.factoryName))]):_vm._e(),_c('v-btn',{staticClass:\"d-block mb-5\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.startUpdateFactoryCommentFor('name')}}},[_vm._v(\" \"+_vm._s(_vm.factoryName ? '更改外部文字' : '回報外部文字')+\" \")]),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"工廠類型\")]),(_vm.factoryType)?_c('p',{staticClass:\"mb-3\"},[_vm._v(_vm._s(_vm.factoryType))]):_vm._e(),_c('v-btn',{staticClass:\"d-block mb-5\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.startUpdateFactoryCommentFor('factory_type')}}},[_vm._v(\" \"+_vm._s(_vm.factoryType ? '更改工廠類型' : '回報工廠類型')+\" \")]),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"工廠描述\")]),_c('v-btn',{staticClass:\"mb-2\",attrs:{\"outlined\":\"\"},on:{\"click\":function($event){return _vm.startUpdateFactoryCommentFor('others')}}},[_vm._v(\"補充工廠描述\")]),_vm._l((_vm.pastDescriptions),function(desc,index){return _c('div',{key:index,staticClass:\"mt-2\",staticStyle:{\"font-size\":\"14px\"}},[_c('p',{staticClass:\"color-gray-light mb-1\"},[_vm._v(_vm._s(desc.date))]),_c('p',{staticStyle:{\"line-height\":\"24px\"}},[_vm._v(_vm._s(desc.others))])])}),(_vm.factoryFollowups.length > 0)?[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"政府回應\")]),_vm._l((_vm.factoryFollowups),function(followup,index){return _c('div',{key:index,staticClass:\"mt-2\",staticStyle:{\"font-size\":\"14px\"}},[_c('p',{staticStyle:{\"line-height\":\"24px\"}},[_vm._v(_vm._s(followup.note))])])})]:_vm._e()],2):_vm._e()],2)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.appState.factoryData),expression:\"!appState.factoryData\"}],staticClass:\"factory-detail-scroller px-4 py-5\"},[_c('h1',{staticClass:\"secondary--text mb-5\"},[_vm._v(\"請選擇一個地標\")]),_c('p',[_vm._v(\"請選擇一間工廠查看工廠詳細資訊。\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$vuetify.breakpoint.mdAndUp),expression:\"$vuetify.breakpoint.mdAndUp\"}],staticClass:\"sidebar-collapse-button d-flex align-items-center justify-center\",on:{\"click\":_vm.toggleFactoryDetail}},[_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-menu-left\")])],1)]),_c('CoolLightBox',{attrs:{\"items\":_vm.lightboxItems,\"index\":_vm.lightboxIndex},on:{\"close\":function () { return _vm.setLightboxIndex(null); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { FactoryData, FACTORY_TYPE, FactoryType } from '../types'\n\nconst factoryTypeMap: { [key: string]: string } = FACTORY_TYPE.reduce((acc, obj) => {\n  return {\n    ...acc,\n    [obj.value]: obj.text\n  }\n}, {})\n\nexport const getFactoryTypeText = (factory: FactoryData) => {\n  if (factory.type) {\n    return factoryTypeMap[factory.type] as FactoryType\n  } else {\n    return null\n  }\n}\n","import { onUnmounted, Ref, ref, watch } from '@vue/composition-api'\n\nexport const useScroll = (scrollContainer: Ref<HTMLElement | null>) => {\n  const scrollTop = ref(0)\n  const scrollLeft = ref(0)\n\n  const onScroll = () => {\n    if (!scrollContainer.value) {\n      return\n    }\n    const container = scrollContainer.value\n\n    scrollTop.value = container.scrollTop\n    scrollLeft.value = container.scrollLeft\n  }\n\n  watch(scrollContainer, (scrollElem) => {\n    if (!scrollElem) {\n      return\n    }\n\n    scrollTop.value = scrollElem.scrollTop\n    scrollLeft.value = scrollElem.scrollLeft\n\n    scrollElem.addEventListener('scroll', onScroll)\n  })\n\n  onUnmounted(() => {\n    if (scrollContainer.value) {\n      scrollContainer.value.removeEventListener('scroll', onScroll)\n    }\n  })\n\n  return {\n    scrollTop,\n    scrollLeft\n  }\n}\n\nexport default useScroll\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('img',{class:_vm.className,attrs:{\"src\":_vm.imageUrl,\"alt\":_vm.alt},on:{\"error\":_vm.onError}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport { createComponent, computed, ref, onUpdated, watch } from '@vue/composition-api'\n\nconst IMGUR_REGEX = /i\\.imgur\\.com\\/([a-zA-Z0-9]+)\\.([a-zA-Z0-9]+)(\\?.*)?$/\n\nconst imgurFallbackBaseUrl = process.env.NODE_ENV === 'production' ? process.env.VUE_APP_IMGUR_FALLBACK_URL : '/server/imgur'\n\nexport default createComponent({\n  name: 'ImgurFallbackImage',\n  props: {\n    src: {\n      type: String,\n      required: true\n    },\n    alt: {\n      type: String,\n      default: ''\n    },\n    className: {\n      type: String,\n      default: ''\n    }\n  },\n  setup (props, context) {\n    const matches = IMGUR_REGEX.exec(props.src)\n\n    const imgurInfo = computed(() => {\n      return matches ? {\n        id: matches[1],\n        ext: matches[2]\n      } : null\n    })\n\n    const fallbackUrl = computed(() => {\n      if (imgurInfo.value) {\n        return `${imgurFallbackBaseUrl}/${imgurInfo.value.id}.${imgurInfo.value.ext}`\n      } else {\n        return props.src\n      }\n    })\n\n    const imageUrl = ref(fallbackUrl.value)\n\n    const onError = () => {\n      imageUrl.value = props.src\n    }\n\n    return {\n      imageUrl,\n      onError\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgurFallbackImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImgurFallbackImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ImgurFallbackImage.vue?vue&type=template&id=738abc8b&\"\nimport script from \"./ImgurFallbackImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ImgurFallbackImage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, computed, ref, onUpdated, watch } from '@vue/composition-api'\nimport copy from 'copy-to-clipboard'\nimport { getFactoryStatus, getStatusBorderColor } from '@/lib/map'\nimport { getFactoryTypeText } from '@/lib/factory'\nimport useScroll from '@/lib/hooks/useScroll'\nimport { getFactoryReportRecords } from '@/api'\n\nimport { useAppState } from '../lib/appState'\nimport { FactoryImage, getDisplayStatusText, ReportRecord } from '../types'\nimport ImgurFallbackImage from './ImgurFallbackImage.vue'\n\nexport default createComponent({\n  name: 'FactoryDetailPage',\n  components: {\n    ImgurFallbackImage\n  },\n  setup () {\n    const [appState, { pageTransition, expandFactoryDetail, collapseFactoryDetail, toggleFactoryDetail }] = useAppState()\n\n    const images = computed(() => {\n      if (appState.factoryData) {\n        return appState.factoryData.images\n      } else {\n        return []\n      }\n    })\n\n    const lightboxItems = computed(() => {\n      if (appState.factoryData) {\n        return appState.factoryData.images.map(image => ({\n          title: '',\n          description: '',\n          src: image.url\n        }))\n      } else {\n        return []\n      }\n    })\n    const lightboxIndex = ref<number|null>(null)\n    const setLightboxIndex = (i: number) => {\n      lightboxIndex.value = i\n    }\n\n    const factoryStatus = computed(() => {\n      if (appState.factoryData) {\n        return getFactoryStatus(appState.factoryData)\n      } else {\n        return undefined\n      }\n    })\n\n    const factoryFollowups = computed(() => {\n      if (appState.factoryData) {\n        return appState.factoryData.follow_ups_for_user\n      } else {\n        return []\n      }\n    })\n\n    const factoryStatusText = computed(() => {\n      if (typeof factoryStatus.value !== 'undefined') {\n        const factoryDisplayStatus = getDisplayStatusText(factoryStatus.value)\n        const { document_display_status: documentDisplayStatus } = appState.factoryData || {}\n        if (documentDisplayStatus) {\n          return `${factoryDisplayStatus}：${documentDisplayStatus}`\n        }\n        return factoryDisplayStatus\n      } else {\n        return ''\n      }\n    })\n\n    const statusColor = computed(() => {\n      if (typeof factoryStatus.value !== 'undefined') {\n        return getStatusBorderColor(factoryStatus.value)\n      } else {\n        return null\n      }\n    })\n\n    const factoryId = computed(() => {\n      if (appState.factoryData) {\n        return appState.factoryData.display_number\n      } else {\n        return ''\n      }\n    })\n\n    const factoryType = computed(() => {\n      if (appState.factoryData) {\n        return getFactoryTypeText(appState.factoryData)\n      } else {\n        return null\n      }\n    })\n\n    const factoryName = computed(() => {\n      return appState.factoryData?.name || ''\n    })\n\n    const factoryAddressAndLandcode = computed(() => {\n      if (appState.factoryData) {\n        const { townname, sectname, sectcode, landcode } = appState.factoryData\n        // 白鷺段（1005）817地號\n        if (townname && sectname && sectcode && landcode) {\n          return `${townname} ${sectname} (${sectcode}) ${landcode}地號`\n        } else {\n          return '擷取中'\n        }\n      } else {\n        return ''\n      }\n    })\n\n    const source = computed(() => {\n      if (appState.factoryData) {\n        return appState.factoryData.source?.split('')\n          .map(function getName (source) {\n            switch (source) {\n              case 'U':\n                return '本系統'\n              case 'G':\n                return '農委會'\n              case 'E':\n                return '經濟部'\n            }\n          })\n          .join('、')\n      }\n\n      return ''\n    })\n\n    const full = computed(() => appState.factoryDetailsExpanded)\n\n    const longitude = computed(() => appState.factoryData?.lng.toFixed(7))\n    const latitude = computed(() => appState.factoryData?.lat.toFixed(7))\n\n    const factoryDetailScrollerRef = ref(null)\n    const { scrollTop } = useScroll(factoryDetailScrollerRef)\n    const scrollOff = computed(() => scrollTop.value > 29 && full.value)\n\n    const showCopiedMessage = ref(false)\n    const copyToClipboard = () => {\n      if (!appState.factoryData) {\n        return\n      }\n\n      const { host, protocol } = window.location\n      const url = `${protocol}//${host}/#map=16/${appState.factoryData?.lng}/${appState.factoryData?.lat}&factoryId=${appState.factoryData.id}`\n\n      copy(url)\n\n      showCopiedMessage.value = true\n      window.setTimeout(() => {\n        showCopiedMessage.value = false\n      }, 1000)\n    }\n\n    // Workaround https://github.com/vuetifyjs/vuetify/issues/10971\n    const slideGroup = ref(null)\n    let prevImages: FactoryImage[]\n    onUpdated(() => {\n      if (JSON.stringify(images.value) === JSON.stringify(prevImages)) {\n        return\n      } else {\n        if (!prevImages) {\n          prevImages = images.value.slice()\n          return\n        } else {\n          prevImages = images.value.slice()\n        }\n      }\n\n      if (!slideGroup.value) {\n        return\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const content = (slideGroup.value as any)?.$refs.content\n      window.setTimeout(() => {\n        content.style = 'translateX(0px)'\n      }, 50)\n    })\n\n    const startUpdateFactoryCommentFor = (field = 'others') => {\n      pageTransition.startUpdateFactoryComment(field)\n    }\n\n    const reportRecords = ref<ReportRecord[]>([])\n    watch(() => appState.factoryData, function () {\n      if (appState.factoryData) {\n        (async () => {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          reportRecords.value = ((await getFactoryReportRecords(appState.factoryData?.id!)) || []).sort((a, b) => {\n            return new Date(b.created_at) >= new Date(a.created_at) ? 1 : -1\n          })\n        })()\n      }\n    })\n\n    const pastDescriptions = computed(() => {\n      return reportRecords.value.map(record => {\n        const date = new Date(record.created_at)\n        const dateStr = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n        return {\n          date: dateStr,\n          others: record.others\n        }\n      }).filter(rec => rec.others)\n    })\n    const lastUpdatedAt = computed(() => {\n      if (!appState.factoryData || !appState.factoryData.reported_at) {\n        return null\n      }\n\n      let date\n      if (reportRecords.value.length === 0) {\n        date = new Date(appState.factoryData.reported_at)\n      } else {\n        date = new Date(reportRecords.value[0].created_at)\n      }\n      const dateStr = `${date.getFullYear()}/${date.getMonth() + 1}/${date.getDate()}`\n\n      return `最後更新 ${dateStr}`\n    })\n\n    return {\n      full,\n      appState,\n      pageTransition,\n      images,\n      expandFactoryDetail,\n      collapseFactoryDetail,\n      toggleFactoryDetail,\n      factoryStatus,\n      factoryStatusText,\n      statusColor,\n      factoryId,\n      factoryType,\n      factoryName,\n      factoryAddressAndLandcode,\n      factoryFollowups,\n      source,\n      pastDescriptions,\n      lastUpdatedAt,\n      longitude,\n      latitude,\n      factoryDetailScrollerRef,\n      scrollOff,\n      showCopiedMessage,\n      copyToClipboard,\n      slideGroup,\n      startUpdateFactoryCommentFor,\n      lightboxItems,\n      lightboxIndex,\n      setLightboxIndex\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryDetailPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FactoryDetailPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FactoryDetailPage.vue?vue&type=template&id=be2d9c9e&scoped=true&\"\nimport script from \"./FactoryDetailPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./FactoryDetailPage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FactoryDetailPage.vue?vue&type=style&index=0&id=be2d9c9e&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"be2d9c9e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSlideGroup } from 'vuetify/lib/components/VSlideGroup';\nimport { VSlideItem } from 'vuetify/lib/components/VSlideGroup';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VBtn,VCard,VCardText,VIcon,VSlideGroup,VSlideItem,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about-dialog-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('h3',[_vm._v(\"關於回報系統\")]),_c('p',[_vm._v(\" 農地違章工廠舉報系統為協助民眾回報揭露農地違章工廠資訊，並非實際完成舉報。 \")]),_c('p',[_vm._v(\" 地球公民基金會將整理資料進行部分案件追蹤，完成舉報者可於「已舉報」案件查見。 \")]),_c('p',[_vm._v(\" 105.05.20 前的違章工廠我們將持續收集資訊，但本系統優先針對新增建與中高污染違章工廠進行舉報。 \")]),_c('p',[_vm._v(\" 本系統感謝 g0v.tw 社群朋友共同開發。 \")]),_c('p',[_vm._v(\" 既有疑似違章工廠資料來源為 2019 年 7 月 30 日取自內政部國土測繪圖資雲\"),_c('a',{attrs:{\"href\":\"https://maps.nlsc.gov.tw/\"}},[_vm._v(\"網站\")]),_vm._v(\"。 \")]),_c('p',[_vm._v(\" 全站使用者貢獻資料以 \"),_c('a',{attrs:{\"href\":\"https://creativecommons.org/licenses/by/3.0/tw/\"}},[_vm._v(\"CC BY 姓名標示 3.0\")]),_vm._v(\" 釋出，標註「© 農地違章工廠舉報小幫手貢獻者」，原始碼以 MIT 開放授權公開在 \"),_c('a',{attrs:{\"href\":\"https://github.com/Disfactory/Disfactory\"}},[_vm._v(\"GitHub\")]),_vm._v(\" 上 \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-modal-component\",class:{ open: _vm.open }},[_c('div',{staticClass:\"app-modal-backdrop\",attrs:{\"data-label\":\"modal-backdrop\"},on:{\"click\":_vm.dismiss}}),_c('div',{staticClass:\"app-modal\"},[(_vm.showCloseButton)?_c('div',{staticClass:\"close\",attrs:{\"data-label\":\"modal-close\",\"data-testid\":\"modal-close\"},on:{\"click\":_vm.dismiss}}):_vm._e(),_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AppModal',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppModal.vue?vue&type=template&id=4f1e1974&scoped=true&\"\nimport script from \"./AppModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppModal.vue?vue&type=style&index=0&id=4f1e1974&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f1e1974\",\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'AboutModal',\n  components: {\n    AppModal\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutModal.vue?vue&type=template&id=f0bc9088&\"\nimport script from \"./AboutModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./AboutModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AboutModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contact-modal-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('img',{attrs:{\"width\":\"137\",\"src\":\"/images/cet-logo.png\",\"alt\":\"Citizen of the Earth Taiwan\"}}),_c('h3',[_vm._v(\" 有任何回報相關問題\"),_c('br'),_vm._v(\" 歡迎聯絡 \")]),_c('p',[_vm._v(\" 地球公民基金會\"),_c('br'),_vm._v(\" TEL: 02-23920371\"),_c('br'),_vm._v(\" Email: \"),_c('a',{attrs:{\"href\":\"mailto:cet@cet-taiwan.org\"}},[_vm._v(\"cet@cet-taiwan.org\")]),_c('br')])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'ContactModal',\n  components: {\n    AppModal\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ContactModal.vue?vue&type=template&id=4df4352c&\"\nimport script from \"./ContactModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./ContactModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ContactModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"getting-started-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"showCloseButton\":false,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('h3',{staticClass:\"text-center\"},[_vm._v(\"歡迎來到\"),_c('b',[_vm._v(\"農地違章工廠回報系統！\")])]),_c('br'),_c('br'),_c('p',[_vm._v(\"需要大家回報以下工廠之照片及資訊：\")]),_c('p',[_c('ul',[_c('li',[_vm._v(\"2016.05.20後新增的農地違章工廠\")]),_c('li',[_vm._v(\"中高污染工廠\")])])]),_c('p',[_vm._v(\"以上資訊將由\"),_c('b',[_vm._v(\"地球公民基金會\")]),_vm._v(\"彙整後，向政府舉報並追蹤拆除進度。\")]),_c('small',{staticClass:\"text-center\",staticStyle:{\"padding-left\":\"20px\",\"padding-right\":\"20px\"}},[_vm._v(\" 行動前請同意資料貢獻\"),_c('a',{attrs:{\"href\":\"https://license.disfactory.tw/#%E8%BE%B2%E5%9C%B0%E9%81%95%E7%AB%A0%E5%B7%A5%E5%BB%A0%E5%9B%9E%E5%A0%B1%E7%B3%BB%E7%B5%B1%EF%BC%88disfactory%EF%BC%89%E8%B2%A2%E7%8D%BB%E5%8D%94%E8%AD%B0\",\"target\":\"_blank\"}},[_vm._v(\"授權條款\")]),_vm._v(\"與\"),_c('a',{attrs:{\"href\":\"https://license.disfactory.tw/#%E9%9A%B1%E7%A7%81%E6%AC%8A%E6%A2%9D%E6%AC%BE\",\"target\":\"_blank\"}},[_vm._v(\"隱私條款\")]),_vm._v(\"。本網站由\"),_c('a',{attrs:{\"href\":\"https://www.cet-taiwan.org/\",\"target\":\"_blank\"}},[_vm._v(\"地球公民基金會\")]),_vm._v(\"與 \"),_c('a',{attrs:{\"href\":\"https://g0v.tw/\",\"target\":\"_blank\"}},[_vm._v(\"g0v.tw\")]),_vm._v(\" 社群共同開發。 \")]),_c('app-button',{on:{\"click\":_vm.agree}},[_vm._v(\"我同意加入回報\")]),_c('small',[_c('a',{attrs:{\"href\":\"https://about.disfactory.tw\"}},[_vm._v(\"我不同意，請帶我離開這個頁面\")])])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'GettingStartedModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  },\n  setup (props) {\n    return {\n      agree () {\n        localStorage.setItem('use-app', 'true')\n        if (props.dismiss) {\n          props.dismiss()\n        }\n      }\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GettingStartedModal.vue?vue&type=template&id=14ed011f&\"\nimport script from \"./GettingStartedModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./GettingStartedModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tutorial-modal-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.onDismissClick}},[(_vm.isAdd || _vm.isUpdate)?_c('div',{staticClass:\"back-button\",attrs:{\"data-testid\":\"back-button\"},on:{\"click\":_vm.openHome}},[_c('span'),_c('span'),_c('span')]):_vm._e(),_c('div',{staticClass:\"page\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isHome),expression:\"isHome\"}],attrs:{\"id\":\"tutorial-home\"}},[_c('h2',[_vm._v(\"使用說明\")]),_c('p',[_vm._v(\" 如果系統無法讀取你的位置， 請至手機系統設定開啟位置權限。 \")]),_c('div',{staticClass:\"outline-button\",on:{\"click\":_vm.openAdd}},[_vm._v(\"如何新增一筆\"),_c('br'),_vm._v(\"違章工廠的資料？\")]),_c('div',{staticClass:\"outline-button\",on:{\"click\":_vm.openUpdate}},[_vm._v(\"如何在一筆資料裡\"),_c('br'),_vm._v(\"補充更多資訊？\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isAdd),expression:\"isAdd\"}],attrs:{\"id\":\"tutorial-add-factory\"}},[_c('carousel',{ref:\"createCarousel\",attrs:{\"per-page\":1,\"paginationActiveColor\":\"#6E8501\",\"paginationColor\":\"#e3e3e3\",\"paginationPadding\":5}},_vm._l((_vm.addImages),function(image,index){return _c('slide',{key:image},[_c('h2',[_vm._v(\"新增違章工廠(\"+_vm._s(index + 1)+\"/7)\")]),_c('img',{attrs:{\"src\":image}})])}),1)],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isUpdate),expression:\"isUpdate\"}],attrs:{\"id\":\"tutorial-update-factory\"}},[_c('carousel',{ref:\"updateCarousel\",attrs:{\"per-page\":1,\"paginationActiveColor\":\"#6E8501\",\"paginationColor\":\"#e3e3e3\",\"paginationPadding\":5}},_vm._l((_vm.updateImages),function(image,index){return _c('slide',{key:image},[_c('h2',[_vm._v(\"補充工廠資訊(\"+_vm._s(index + 1)+\"/4)\")]),_c('img',{attrs:{\"src\":image}})])}),1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport { createComponent, ref, computed } from '@vue/composition-api'\nimport { Carousel, Slide } from 'vue-carousel'\n\nexport default createComponent({\n  name: 'TutorialModal',\n  components: {\n    AppModal,\n    Carousel,\n    Slide\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  },\n  setup (props) {\n    const page = ref('home')\n\n    const isHome = computed(() => page.value === 'home')\n    const isAdd = computed(() => page.value === 'add')\n    const isUpdate = computed(() => page.value === 'update')\n\n    const createCarousel = ref<HTMLElement>(null)\n    const updateCarousel = ref<HTMLElement>(null)\n\n    const openHome = () => { page.value = 'home' }\n    const openAdd = () => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-explicit-any\n      (createCarousel.value! as any).goToPage(0)\n      page.value = 'add'\n    }\n    const openUpdate = () => {\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion, @typescript-eslint/no-explicit-any\n      (updateCarousel.value! as any).goToPage(0)\n      page.value = 'update'\n    }\n\n    const addImages = new Array(7).fill(true).map((_, index) => `/images/tutorial/create-${index + 1}.jpg`)\n    const updateImages = new Array(4).fill(true).map((_, index) => `/images/tutorial/update-${index + 1}.jpg`)\n\n    const onDismissClick = () => {\n      openHome()\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      props.dismiss!()\n    }\n\n    return {\n      isHome,\n      isAdd,\n      isUpdate,\n      openHome,\n      openAdd,\n      openUpdate,\n      addImages,\n      updateImages,\n      onDismissClick,\n      createCarousel,\n      updateCarousel\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TutorialModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TutorialModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TutorialModal.vue?vue&type=template&id=22f5bee5&\"\nimport script from \"./TutorialModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./TutorialModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TutorialModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',_vm._b({attrs:{\"max-width\":\"350\"},model:{value:(_vm.safetyModalState),callback:function ($$v) {_vm.safetyModalState=$$v},expression:\"safetyModalState\"}},'v-dialog',_vm.$attrs,false),[_c('div',{staticClass:\"safety-modal\"},[_c('v-carousel',{attrs:{\"progress-color\":\"#6E8501\",\"light\":\"\",\"hide-delimiter-background\":\"\",\"progress\":false}},[_c('v-card',[_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('h1',{staticClass:\"mt-3 pb-1 mb-4\"},[_vm._v(\"安全須知\")]),_c('p',[_vm._v(\" 請參考以下建議，前往違章工廠拍照蒐證 \")])]),_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('img',{attrs:{\"src\":\"/images/safety_notice/1.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\" 場勘 \")]),_c('p',[_vm._v(\" 假裝路過，檢查有無監視器；尋找適合拍照的隱蔽處 \")])]),_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('img',{attrs:{\"src\":\"/images/safety_notice/2.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"藏身\")]),_c('p',[_vm._v(\" 盡量避開監視器、他人視線；盡量在隱蔽處拍照（例如：車上、民宅內、樹叢間、遠方） \")])]),_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('img',{attrs:{\"src\":\"/images/safety_notice/3.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"避嫌\")]),_c('p',[_vm._v(\"假如地點不夠隱密，請用手機拍照，降低他人戒心\")])]),_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('img',{attrs:{\"src\":\"/images/safety_notice/4.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"速離\")]),_c('p',[_vm._v(\"拍到1張清晰照片即可離去\")])]),_c('v-carousel-item',{staticClass:\"page pa-3\"},[_c('img',{attrs:{\"src\":\"/images/safety_notice/5.png\",\"alt\":\"\"}}),_c('h2',[_vm._v(\"應變\")]),_c('p',[_vm._v(\"假如有人上前問話，請表現得「充滿好奇心」，試著跟對方聊天（例如：好奇水電師傅的施工技術），再伺機離開。\")])])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, computed } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'SafetyModal',\n  props: {\n    value: {\n      required: true,\n      type: Boolean\n    }\n  },\n  setup (props, context) {\n    const safetyModalState = computed({\n      get: () => props.value,\n      set: (value) => context.emit('input', value)\n    })\n\n    return {\n      safetyModalState\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SafetyModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SafetyModal.vue?vue&type=template&id=4b21f5be&\"\nimport script from \"./SafetyModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./SafetyModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SafetyModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCarousel } from 'vuetify/lib/components/VCarousel';\nimport { VCarouselItem } from 'vuetify/lib/components/VCarousel';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VCard,VCarousel,VCarouselItem,VDialog})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss,\"showCloseButton\":false}},[_c('h3',[_vm._v(\"感謝您新增資訊！\")]),_c('app-button',{attrs:{\"data-label\":\"create-factory-success-close\"},on:{\"click\":_vm.dismiss}},[_vm._v(\"確認\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'CreateFactorySuccessModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CreateFactorySuccessModal.vue?vue&type=template&id=f1cd472e&scoped=true&\"\nimport script from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./CreateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CreateFactorySuccessModal.vue?vue&type=style&index=0&id=f1cd472e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f1cd472e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss,\"showCloseButton\":false}},[_c('h3',[_vm._v(\"感謝您補充資訊！\")]),_c('app-button',{attrs:{\"data-label\":\"update-factory-success-apply\"},on:{\"click\":_vm.dismiss}},[_vm._v(\"確認\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'UpdateFactorySuccessModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySuccessModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySuccessModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpdateFactorySuccessModal.vue?vue&type=template&id=72bdbd76&scoped=true&\"\nimport script from \"./UpdateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpdateFactorySuccessModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpdateFactorySuccessModal.vue?vue&type=style&index=0&id=72bdbd76&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72bdbd76\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ios-version-modal-container\"},[_c('app-modal',{attrs:{\"open\":_vm.open,\"dismiss\":_vm.dismiss}},[_c('div',{staticClass:\"page\"},[_c('h3',[_vm._v(\"⚠️你的手機無法新增可疑工廠\")]),_c('p',[_vm._v(\" 很抱歉，你的 iPhone iOS 操作系統無法成功在本網站上傳照片。\"),_c('br'),_vm._v(\" 請改用電腦新增可疑工廠照片或是至「系統設定」升級 iOS操作系統版本到至少 13.4 以上。瀏覽地圖功能則不受影響。 \")]),_c('app-button',{on:{\"click\":_vm.dismiss}},[_vm._v(\"知道了\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppModal from '@/components/AppModal.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport { createComponent } from '@vue/composition-api'\n\nexport default createComponent({\n  name: 'IosVersionModal',\n  components: {\n    AppModal,\n    AppButton\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    dismiss: {\n      type: Function\n    }\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IOSVersionAlertModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IOSVersionAlertModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IOSVersionAlertModal.vue?vue&type=template&id=7d541fdb&\"\nimport script from \"./IOSVersionAlertModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./IOSVersionAlertModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./IOSVersionAlertModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { createComponent, ref, provide } from '@vue/composition-api'\n\nimport Map from '@/components/Map.vue'\nimport AppNavbar from '@/components/AppNavbar.vue'\nimport AppButton from '@/components/AppButton.vue'\nimport AppSidebar from './components/AppSidebar.vue'\nimport AppAlert from '@/components/AppAlert.vue'\nimport CreateFactorySteps from '@/components/CreateFactorySteps.vue'\nimport UpdateFactorySteps from '@/components/UpdateFactorySteps.vue'\nimport FactoryDetailPage from '@/components/FactoryDetailPage.vue'\n\nimport AboutModal from '@/components/AboutModal.vue'\nimport ContactModal from '@/components/ContactModal.vue'\nimport GettingStartedModal from '@/components/GettingStartedModal.vue'\nimport TutorialModal from '@/components/TutorialModal.vue'\nimport SafetyModal from '@/components/SafetyModal.vue'\nimport CreateFactorySuccessModal from '@/components/CreateFactorySuccessModal.vue'\nimport UpdateFactorySuccessModal from '@/components/UpdateFactorySuccessModal.vue'\nimport IosVersionModal from '@/components/IOSVersionAlertModal.vue'\n\nimport { MapFactoryController } from './lib/map'\nimport { MainMapControllerSymbol } from './symbols'\nimport { provideModalState, useModalState } from './lib/hooks'\nimport { provideGA } from './lib/useGA'\nimport { provideAppState, useAppState } from './lib/appState'\nimport { provideAlertState, useAlertState } from './lib/useAlert'\nimport { provideMapMode } from './lib/useMapMode'\n\nexport default createComponent({\n  name: 'App',\n  components: {\n    Map,\n    AppAlert,\n    AppButton,\n    AppNavbar,\n    AppSidebar,\n    AboutModal,\n    ContactModal,\n    GettingStartedModal,\n    SafetyModal,\n    CreateFactorySuccessModal,\n    UpdateFactorySuccessModal,\n    TutorialModal,\n    IosVersionModal,\n    CreateFactorySteps,\n    UpdateFactorySteps,\n    FactoryDetailPage\n  },\n  setup (_, context) {\n    provideGA(context)\n\n    provideModalState()\n    provideAppState()\n    provideAlertState()\n    provideMapMode()\n\n    const [modalState, modalActions] = useModalState()\n    const [appState, appActions] = useAppState()\n    const [alertState, alertActions] = useAlertState()\n\n    // register global accessible map instance\n    provide(MainMapControllerSymbol, ref<MapFactoryController>(null))\n\n    const drawer = ref(false)\n    return {\n      appState,\n      alertState,\n      alertActions,\n      appActions,\n      modalState,\n      modalActions,\n      drawer\n    }\n  }\n})\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--13-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=587329da&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VAppBarNavIcon,VBtn,VCard,VCardText,VCardTitle,VDialog,VIcon,VList,VListItem,VListItemGroup,VListItemTitle,VMain,VNavigationDrawer,VSpacer,VToolbarTitle})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\nimport colors from 'vuetify/lib/util/colors'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  theme: {\n    themes: {\n      light: {\n        primary: '#697F01',\n        secondary: '#364516',\n        accent: colors.green.base\n      }\n    }\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport VueCompositionApi from '@vue/composition-api'\nimport CoolLightBox from 'vue-cool-lightbox'\n\nimport './registerServiceWorker'\nimport VueGtag from 'vue-gtag'\nimport vuetify from './plugins/vuetify'\n\nimport 'vue-cool-lightbox/dist/vue-cool-lightbox.min.css'\n\nVue.config.productionTip = false\nVue.use(VueCompositionApi)\nVue.use(CoolLightBox)\n\nVue.use(VueGtag, {\n  config: { id: 'UA-154739393-1' },\n  enabled: process.env.NODE_ENV === 'production'\n})\n\nnew Vue({\n  vuetify,\n  render: (h) => h(App)\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GettingStartedModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadForm.vue?vue&type=style&index=0&id=9c1898e4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageUploadForm.vue?vue&type=style&index=0&id=9c1898e4&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySteps.vue?vue&type=style&index=0&id=007ea2fd&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFactorySteps.vue?vue&type=style&index=0&id=007ea2fd&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=e9035d54&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppTextField.vue?vue&type=style&index=0&id=e9035d54&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=4f1e1974&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppModal.vue?vue&type=style&index=0&id=4f1e1974&lang=scss&scoped=true&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactModal.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}